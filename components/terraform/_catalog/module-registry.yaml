# Alexandria Library - Module Registry
# Version: 1.0.0
# Last Updated: 2025-12-02
#
# This file serves as the master catalog for all Alexandria Library modules.
# It provides searchable metadata, versioning, and lifecycle information.

version: "1.0.0"
registry:
  name: "Alexandria Library"
  description: "Enterprise Terraform Module Marketplace"
  url: "https://github.com/yourorg/tf-atmos"
  maintainer: "Platform Engineering Team"
  contact: "platform-team@example.com"

# Module Registry Schema
# Each module entry follows this structure
modules:

  #############################################################################
  # FOUNDATIONS LAYER
  #############################################################################

  # --- Networking ---

  - id: "vpc-basic"
    name: "Basic VPC"
    version: "1.0.0"
    maturity: "stable"
    category: "foundations/networking"
    subcategory: "vpc"
    path: "_library/foundations/networking/vpc-basic"

    description: "Simple VPC with 1-2 availability zones and basic routing"
    long_description: |
      A lightweight VPC module for development and testing environments.
      Creates a VPC with basic routing, internet gateway, and simple subnet structure.
      Ideal for non-production workloads and proof-of-concept deployments.

    tags:
      - vpc
      - networking
      - basic
      - dev
      - single-az

    complexity: "beginner"
    setup_time_minutes: 5
    variable_count: 10

    cost:
      estimated_monthly_usd: 20
      cost_category: "low"
      cost_factors:
        - "Single NAT Gateway"
        - "Data transfer"
      cost_breakdown:
        nat_gateway: 16
        data_transfer: 4

    features:
      - "1-2 Availability Zones"
      - "Public and private subnets"
      - "Internet Gateway"
      - "Single NAT Gateway"
      - "Basic route tables"
      - "DNS support"

    use_cases:
      - "Development environments"
      - "Testing and staging"
      - "Proof of concept"
      - "Training and demos"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"
      backup: "sre-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 48
      oncall: "platform-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "ec2-basic"
      - "rds-basic"
      - "lambda-basic"

    incompatible_with: []

    replaces: []
    replaced_by: null

    metrics:
      downloads: 450
      rating: 4.5
      rating_count: 32
      deployments: 180
      active_deployments: 145
      issues_open: 2
      issues_closed: 18
      last_updated: "2025-11-15"
      first_published: "2025-06-01"

    lifecycle:
      created: "2025-06-01"
      stabilized: "2025-08-01"
      deprecated: null
      deprecation_reason: null
      removed: null
      replacement: null
      migration_guide: null

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      architecture_diagram: "./docs/architecture.png"
      migration_guides: []
      examples:
        - path: "./examples/complete"
          description: "Complete VPC with all features"
          complexity: "beginner"
        - path: "./examples/minimal"
          description: "Minimal viable VPC"
          complexity: "beginner"

    testing:
      unit_tests: 8
      integration_tests: 3
      coverage_percent: 82
      last_test_run: "2025-12-01T10:00:00Z"
      test_status: "passing"
      test_duration_seconds: 180

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      last_scan: "2025-12-01"
      vulnerabilities:
        critical: 0
        high: 0
        medium: 0
        low: 0
      compliance:
        - "CIS AWS Foundations"

    performance:
      deployment_time_seconds: 300
      resource_count: 15
      state_size_kb: 45

  # --- VPC Standard (Currently deployed as 'vpc') ---

  - id: "vpc-standard"
    name: "Standard VPC"
    version: "2.1.0"
    maturity: "mature"
    category: "foundations/networking"
    subcategory: "vpc"
    path: "vpc"  # Legacy path for backward compatibility
    alternate_paths:
      - "_library/foundations/networking/vpc-standard"

    description: "Production-ready VPC with 2-3 AZs, NAT gateways, and VPC endpoints"
    long_description: |
      A comprehensive VPC module that creates production-ready network infrastructure.
      Includes multiple availability zones, NAT gateways per AZ, VPC endpoints,
      complete subnet management (public, private, database), and advanced networking features.
      This is the recommended module for production workloads.

    tags:
      - vpc
      - networking
      - production
      - multi-az
      - ha
      - endpoints
      - ipv6

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 35

    cost:
      estimated_monthly_usd: 150
      cost_category: "medium"
      cost_factors:
        - "NAT Gateway per AZ (3x)"
        - "VPC Endpoints (5-10)"
        - "Data transfer"
        - "Flow Logs storage"
      cost_breakdown:
        nat_gateways: 97
        vpc_endpoints: 36
        flow_logs: 10
        data_transfer: 7

    features:
      - "2-3 Availability Zones"
      - "Public, private, and database subnets"
      - "NAT Gateway per AZ (high availability)"
      - "Internet Gateway"
      - "VPC Endpoints (S3, DynamoDB, ECR, etc.)"
      - "IPv6 support (optional)"
      - "VPC Flow Logs"
      - "DNS support and resolution"
      - "Network ACLs"
      - "Automatic subnet CIDR calculation"

    use_cases:
      - "Production applications"
      - "Multi-tier architectures"
      - "Microservices platforms"
      - "High availability systems"
      - "Compliance-required workloads"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"
      backup: "sre-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24
      oncall: "platform-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "eks-standard"
      - "rds-postgres"
      - "rds-mysql"
      - "ecs-fargate"
      - "ec2-autoscaling"
      - "lambda-advanced"

    metrics:
      downloads: 1250
      rating: 4.8
      rating_count: 156
      deployments: 450
      active_deployments: 428
      issues_open: 3
      issues_closed: 87
      last_updated: "2025-11-30"
      first_published: "2024-02-15"

    lifecycle:
      created: "2024-02-15"
      stabilized: "2024-06-01"
      matured: "2025-01-15"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      architecture_diagram: "./docs/architecture.png"
      examples:
        - path: "./examples/complete"
          description: "Full-featured VPC with all options"
          complexity: "intermediate"
        - path: "./examples/basic"
          description: "Standard VPC with sensible defaults"
          complexity: "intermediate"
        - path: "./examples/multi-region"
          description: "Multi-region VPC with peering"
          complexity: "advanced"

    testing:
      unit_tests: 25
      integration_tests: 12
      coverage_percent: 89
      last_test_run: "2025-12-02T08:30:00Z"
      test_status: "passing"
      test_duration_seconds: 480

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      last_scan: "2025-12-02"
      vulnerabilities:
        critical: 0
        high: 0
        medium: 0
        low: 0
      compliance:
        - "CIS AWS Foundations"
        - "HIPAA"
        - "PCI DSS"

    performance:
      deployment_time_seconds: 900
      resource_count: 85
      state_size_kb: 320

  # --- Security Groups ---

  - id: "securitygroup"
    name: "Security Group"
    version: "1.5.0"
    maturity: "stable"
    category: "foundations/security"
    subcategory: "network-security"
    path: "securitygroup"
    alternate_paths:
      - "_library/foundations/security/securitygroup"

    description: "Security group management with comprehensive rule validation"
    long_description: |
      A robust security group module that creates and manages security groups
      with extensive validation rules. Supports ingress/egress rules, rule descriptions,
      CIDR validation, and integration with other security groups. Includes built-in
      best practices and prevents common misconfigurations.

    tags:
      - security-group
      - security
      - firewall
      - network
      - ingress
      - egress

    complexity: "intermediate"
    setup_time_minutes: 5
    variable_count: 18

    cost:
      estimated_monthly_usd: 0
      cost_category: "free"
      cost_factors:
        - "No direct cost"
        - "Data transfer costs apply separately"

    features:
      - "Ingress and egress rules"
      - "Rule validation"
      - "CIDR block validation"
      - "Security group references"
      - "Rule descriptions"
      - "Default deny-all egress (optional)"
      - "Tag-based organization"

    use_cases:
      - "EC2 instance security"
      - "RDS database security"
      - "ECS task security"
      - "Lambda function security"
      - "Network isolation"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"

    compatible_with:
      - "vpc-*"
      - "ec2-*"
      - "rds-*"
      - "eks-*"
      - "ecs-*"

    metrics:
      downloads: 890
      rating: 4.7
      rating_count: 98
      deployments: 654
      active_deployments: 612
      last_updated: "2025-11-20"
      first_published: "2024-03-10"

    lifecycle:
      created: "2024-03-10"
      stabilized: "2024-08-15"

    testing:
      unit_tests: 18
      integration_tests: 8
      coverage_percent: 85
      test_status: "passing"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      last_scan: "2025-11-20"
      vulnerabilities:
        critical: 0
        high: 0
        medium: 0
        low: 0

  # --- IAM ---

  - id: "iam"
    name: "IAM Roles and Policies"
    version: "1.8.0"
    maturity: "stable"
    category: "foundations/identity"
    subcategory: "iam"
    path: "iam"
    alternate_paths:
      - "_library/foundations/identity/iam-roles"

    description: "IAM role and policy management with least privilege enforcement"
    long_description: |
      Comprehensive IAM module for creating roles, policies, and users with
      built-in security best practices. Supports service roles, cross-account access,
      policy templates, and automatic permission boundary enforcement.

    tags:
      - iam
      - security
      - roles
      - policies
      - access-control
      - least-privilege

    complexity: "intermediate"
    setup_time_minutes: 8
    variable_count: 22

    cost:
      estimated_monthly_usd: 0
      cost_category: "free"
      cost_factors:
        - "No direct cost"

    features:
      - "IAM roles with assume role policies"
      - "Managed and inline policies"
      - "Service-linked roles"
      - "Cross-account access"
      - "Permission boundaries"
      - "Policy templates"
      - "Least privilege validation"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "eks-*"
      - "ecs-*"
      - "lambda-*"
      - "ec2-*"

    metrics:
      downloads: 1120
      rating: 4.6
      rating_count: 142
      deployments: 723
      active_deployments: 698
      last_updated: "2025-11-25"

    testing:
      unit_tests: 32
      integration_tests: 15
      coverage_percent: 88
      test_status: "passing"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "AWS Well-Architected"

  #############################################################################
  # COMPUTE LAYER
  #############################################################################

  # --- EKS ---

  - id: "eks-standard"
    name: "EKS Standard"
    version: "3.2.0"
    maturity: "mature"
    category: "compute/containers"
    subcategory: "kubernetes"
    path: "eks"
    alternate_paths:
      - "_library/compute/containers/eks-standard"

    description: "Production-ready EKS cluster with managed node groups and advanced security"
    long_description: |
      Enterprise-grade Amazon EKS module that creates production-ready Kubernetes clusters
      with multiple managed node groups, IRSA support, comprehensive security controls,
      cluster autoscaling, and integration with AWS services. Battle-tested in production
      across 200+ deployments.

    tags:
      - eks
      - kubernetes
      - containers
      - production
      - ha
      - autoscaling
      - irsa

    complexity: "advanced"
    setup_time_minutes: 25
    variable_count: 48

    cost:
      estimated_monthly_usd: 450
      cost_category: "high"
      cost_factors:
        - "EKS control plane: $73/month"
        - "Worker nodes (t3.large): 3+ nodes"
        - "NAT Gateways: $97/month (3 AZs)"
        - "Load balancers"
        - "Data transfer"
      cost_breakdown:
        control_plane: 73
        worker_nodes: 220
        nat_gateways: 97
        load_balancers: 50
        other: 10

    features:
      - "EKS control plane with automatic upgrades"
      - "Managed node groups with multiple instance types"
      - "IRSA (IAM Roles for Service Accounts)"
      - "Cluster autoscaling"
      - "Private API endpoint (optional)"
      - "AWS VPC CNI configuration"
      - "KMS encryption for secrets"
      - "CloudWatch Container Insights"
      - "Multiple node group support"
      - "Spot instance support"

    use_cases:
      - "Microservices platforms"
      - "Cloud-native applications"
      - "CI/CD pipelines"
      - "Data processing workloads"
      - "Machine learning platforms"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"
      backup: "kubernetes-team@example.com"

    support:
      channel: "#kubernetes-support"
      sla_hours: 12
      oncall: "kubernetes-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
        kubernetes: ">= 2.20.0"
        helm: ">= 2.10.0"
      required_modules:
        - "vpc-standard"

    compatible_with:
      - "vpc-standard"
      - "eks-addons"
      - "eks-backend-services"
      - "external-secrets"
      - "monitoring"

    metrics:
      downloads: 2340
      rating: 4.9
      rating_count: 287
      deployments: 856
      active_deployments: 834
      last_updated: "2025-12-01"
      first_published: "2024-01-05"

    lifecycle:
      created: "2024-01-05"
      stabilized: "2024-05-01"
      matured: "2024-11-15"

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      architecture_diagram: "./docs/architecture.png"
      examples:
        - path: "./examples/complete"
          description: "Full EKS cluster with all features"
          complexity: "advanced"
        - path: "./examples/basic"
          description: "Simple EKS cluster with defaults"
          complexity: "intermediate"
        - path: "./examples/fargate"
          description: "EKS with Fargate profiles"
          complexity: "advanced"

    testing:
      unit_tests: 42
      integration_tests: 18
      coverage_percent: 91
      test_status: "passing"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "CIS Kubernetes Benchmark"
        - "PCI DSS"
        - "HIPAA"

    performance:
      deployment_time_seconds: 1500
      resource_count: 120
      state_size_kb: 480

  # --- EC2 ---

  - id: "ec2"
    name: "EC2 Instances"
    version: "2.0.0"
    maturity: "stable"
    category: "compute/virtual-machines"
    subcategory: "ec2"
    path: "ec2"
    alternate_paths:
      - "_library/compute/virtual-machines/ec2-standard"

    description: "EC2 instance management with advanced features and auto-recovery"
    long_description: |
      Flexible EC2 module supporting single instances, auto-scaling groups,
      spot instances, and advanced features like instance profiles, user data,
      EBS optimization, and CloudWatch monitoring.

    tags:
      - ec2
      - compute
      - virtual-machines
      - autoscaling
      - spot

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 32

    cost:
      estimated_monthly_usd: 75
      cost_category: "medium"
      cost_factors:
        - "Instance type (t3.medium default)"
        - "EBS volumes"
        - "Data transfer"
        - "Elastic IP (optional)"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"
        - "securitygroup"

    compatible_with:
      - "vpc-*"
      - "securitygroup"
      - "iam"
      - "monitoring"

    metrics:
      downloads: 980
      rating: 4.6
      rating_count: 134
      deployments: 567
      active_deployments: 523
      last_updated: "2025-11-28"

  # --- Lambda ---

  - id: "lambda"
    name: "Lambda Functions"
    version: "1.7.0"
    maturity: "stable"
    category: "compute/serverless"
    subcategory: "lambda"
    path: "lambda"
    alternate_paths:
      - "_library/compute/serverless/lambda-standard"

    description: "AWS Lambda function management with layers, triggers, and VPC support"
    long_description: |
      Comprehensive Lambda module supporting multiple runtimes, layers, event sources,
      VPC configuration, environment variables, and dead letter queues.

    tags:
      - lambda
      - serverless
      - functions
      - event-driven

    complexity: "intermediate"
    setup_time_minutes: 8
    variable_count: 28

    cost:
      estimated_monthly_usd: 5
      cost_category: "low"
      cost_factors:
        - "Invocations"
        - "Duration"
        - "Memory allocation"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "apigateway"
      - "vpc-*"
      - "iam"
      - "monitoring"

    metrics:
      downloads: 1450
      rating: 4.7
      rating_count: 198
      deployments: 892
      active_deployments: 856
      last_updated: "2025-11-22"

  #############################################################################
  # DATA LAYER
  #############################################################################

  # --- RDS ---

  - id: "rds-postgres"
    name: "RDS PostgreSQL"
    version: "2.5.0"
    maturity: "stable"
    category: "data/databases"
    subcategory: "relational"
    path: "rds"
    alternate_paths:
      - "_library/data/databases/rds-postgres"

    description: "Production-ready RDS PostgreSQL with multi-AZ, encryption, and automated backups"
    long_description: |
      Enterprise PostgreSQL database module with multi-AZ deployment, automated backups,
      encryption at rest and in transit, parameter groups, option groups, and
      comprehensive monitoring.

    tags:
      - rds
      - postgres
      - postgresql
      - database
      - multi-az
      - ha
      - encrypted

    complexity: "intermediate"
    setup_time_minutes: 20
    variable_count: 38

    cost:
      estimated_monthly_usd: 280
      cost_category: "high"
      cost_factors:
        - "DB instance (db.t3.large multi-AZ)"
        - "Storage (100 GB gp3)"
        - "Backup storage"
        - "Data transfer"
      cost_breakdown:
        instance: 220
        storage: 40
        backups: 15
        other: 5

    features:
      - "Multi-AZ deployment"
      - "Automated backups with retention"
      - "KMS encryption at rest"
      - "SSL/TLS encryption in transit"
      - "Custom parameter groups"
      - "Enhanced monitoring"
      - "Performance Insights"
      - "Automatic minor version upgrades"
      - "Snapshot management"

    use_cases:
      - "Production databases"
      - "OLTP workloads"
      - "High availability systems"
      - "Compliance-required data"

    maintainer:
      team: "Database Engineering"
      primary: "dba-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#database-support"
      sla_hours: 24
      oncall: "dba-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"
        - "securitygroup"

    compatible_with:
      - "vpc-standard"
      - "vpc-advanced"
      - "securitygroup"
      - "backup"
      - "monitoring"

    metrics:
      downloads: 1670
      rating: 4.8
      rating_count: 213
      deployments: 534
      active_deployments: 512
      last_updated: "2025-11-30"
      first_published: "2024-02-20"

    testing:
      unit_tests: 28
      integration_tests: 14
      coverage_percent: 87
      test_status: "passing"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "PCI DSS"
        - "HIPAA"
        - "SOC 2"

  #############################################################################
  # INTEGRATION LAYER
  #############################################################################

  # --- API Gateway ---

  - id: "apigateway-rest"
    name: "API Gateway REST"
    version: "1.9.0"
    maturity: "stable"
    category: "integration/api-management"
    subcategory: "apigateway"
    path: "apigateway"
    alternate_paths:
      - "_library/integration/api-management/apigateway-rest"

    description: "REST and HTTP API Gateway with authentication and custom domains"
    long_description: |
      Versatile API Gateway module supporting REST and HTTP APIs with multiple
      authentication methods, custom domains, throttling, caching, and integrations
      with Lambda, HTTP backends, and AWS services.

    tags:
      - apigateway
      - api
      - rest
      - http
      - authentication
      - custom-domain

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 30

    cost:
      estimated_monthly_usd: 50
      cost_category: "medium"
      cost_factors:
        - "API requests (1M requests = $3.50)"
        - "Data transfer"
        - "Caching (optional)"
        - "Custom domain"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "lambda"
      - "acm"
      - "dns"
      - "monitoring"

    metrics:
      downloads: 1230
      rating: 4.7
      rating_count: 167
      deployments: 678
      active_deployments: 645
      last_updated: "2025-11-18"

  #############################################################################
  # OBSERVABILITY LAYER
  #############################################################################

  # --- Monitoring ---

  - id: "monitoring"
    name: "CloudWatch Monitoring"
    version: "2.3.0"
    maturity: "stable"
    category: "observability/metrics"
    subcategory: "cloudwatch"
    path: "monitoring"
    alternate_paths:
      - "_library/observability/metrics/cloudwatch"

    description: "Comprehensive CloudWatch monitoring with dashboards, alarms, and log groups"
    long_description: |
      Full-featured monitoring solution with CloudWatch dashboards, metric alarms,
      log groups, log subscriptions, and integration with SNS for alerting.
      Supports custom metrics and composite alarms.

    tags:
      - monitoring
      - cloudwatch
      - alarms
      - dashboards
      - logs
      - metrics

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 26

    cost:
      estimated_monthly_usd: 45
      cost_category: "medium"
      cost_factors:
        - "Dashboards: $3/month each"
        - "Alarms: $0.10/month each"
        - "Log ingestion: $0.50/GB"
        - "Log storage: $0.03/GB"

    maintainer:
      team: "SRE Team"
      primary: "sre-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "All modules"

    metrics:
      downloads: 1890
      rating: 4.8
      rating_count: 245
      deployments: 912
      active_deployments: 889
      last_updated: "2025-11-30"

  # --- Security Monitoring ---

  - id: "security-monitoring"
    name: "Security Monitoring"
    version: "1.6.0"
    maturity: "stable"
    category: "security/compliance"
    subcategory: "threat-detection"
    path: "security-monitoring"
    alternate_paths:
      - "_library/security/compliance/security-monitoring"

    description: "GuardDuty, Security Hub, and Inspector for comprehensive security monitoring"
    long_description: |
      Complete security monitoring solution combining GuardDuty for threat detection,
      Security Hub for centralized security findings, and Inspector V2 for
      vulnerability scanning. Includes automated remediation workflows.

    tags:
      - security
      - guardduty
      - security-hub
      - inspector
      - threat-detection
      - compliance

    complexity: "advanced"
    setup_time_minutes: 15
    variable_count: 22

    cost:
      estimated_monthly_usd: 120
      cost_category: "medium"
      cost_factors:
        - "GuardDuty: Event analysis"
        - "Security Hub: Finding ingestion"
        - "Inspector: Scans"

    maintainer:
      team: "Security Engineering"
      primary: "security-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "All modules"

    metrics:
      downloads: 890
      rating: 4.9
      rating_count: 112
      deployments: 345
      active_deployments: 334
      last_updated: "2025-11-25"

  #############################################################################
  # SECURITY LAYER
  #############################################################################

  # --- ACM ---

  - id: "acm"
    name: "ACM Certificates"
    version: "1.4.0"
    maturity: "stable"
    category: "security/access-control"
    subcategory: "certificates"
    path: "acm"
    alternate_paths:
      - "_library/security/access-control/acm"

    description: "SSL/TLS certificate management with DNS and email validation"
    long_description: |
      AWS Certificate Manager module for creating and managing SSL/TLS certificates
      with automatic DNS validation via Route53 or manual email validation.
      Supports wildcard certificates and SANs.

    tags:
      - acm
      - certificates
      - ssl
      - tls
      - https

    complexity: "beginner"
    setup_time_minutes: 8
    variable_count: 12

    cost:
      estimated_monthly_usd: 0
      cost_category: "free"
      cost_factors:
        - "No cost for public certificates"
        - "Private certificates: $400/month per CA"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "dns"
      - "apigateway"
      - "alb"
      - "cloudfront"

    metrics:
      downloads: 1120
      rating: 4.6
      rating_count: 145
      deployments: 789
      active_deployments: 756
      last_updated: "2025-11-10"

  # --- Secrets Manager ---

  - id: "secretsmanager"
    name: "Secrets Manager"
    version: "1.8.0"
    maturity: "stable"
    category: "security/secrets"
    subcategory: "secrets-management"
    path: "secretsmanager"
    alternate_paths:
      - "_library/security/secrets/secretsmanager"

    description: "Hierarchical secrets management with automatic rotation and access control"
    long_description: |
      Comprehensive secrets management solution with hierarchical organization,
      automatic rotation for databases, KMS encryption, versioning, and
      fine-grained IAM access control.

    tags:
      - secrets
      - secrets-manager
      - security
      - encryption
      - rotation

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 20

    cost:
      estimated_monthly_usd: 1.20
      cost_category: "low"
      cost_factors:
        - "$0.40/secret/month"
        - "$0.05 per 10,000 API calls"

    maintainer:
      team: "Security Engineering"
      primary: "security-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "rds-*"
      - "eks-*"
      - "ecs-*"
      - "lambda"
      - "external-secrets"

    metrics:
      downloads: 1560
      rating: 4.7
      rating_count: 187
      deployments: 823
      active_deployments: 798
      last_updated: "2025-11-20"

  # --- External Secrets ---

  - id: "external-secrets"
    name: "External Secrets Operator"
    version: "1.3.0"
    maturity: "beta"
    category: "security/secrets"
    subcategory: "kubernetes-secrets"
    path: "external-secrets"
    alternate_paths:
      - "_library/security/secrets/external-secrets"

    description: "Kubernetes External Secrets Operator for AWS Secrets Manager integration"
    long_description: |
      Deploys and configures the External Secrets Operator in Kubernetes,
      enabling secure integration between Kubernetes secrets and AWS Secrets Manager.
      Supports automatic secret synchronization and rotation.

    tags:
      - kubernetes
      - secrets
      - external-secrets
      - secrets-manager
      - k8s

    complexity: "advanced"
    setup_time_minutes: 12
    variable_count: 18

    cost:
      estimated_monthly_usd: 5
      cost_category: "low"
      cost_factors:
        - "Secrets Manager API calls"
        - "Kubernetes resources (minimal)"

    maintainer:
      team: "Kubernetes Team"
      primary: "kubernetes-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
        kubernetes: ">= 2.20.0"
        helm: ">= 2.10.0"
      required_modules:
        - "eks-*"
        - "secretsmanager"

    compatible_with:
      - "eks-standard"
      - "secretsmanager"
      - "iam"

    metrics:
      downloads: 560
      rating: 4.6
      rating_count: 67
      deployments: 234
      active_deployments: 221
      last_updated: "2025-11-15"

  # ===========================================================================
  # PHASE 2: NEW SECURITY MODULES (2025-12-02)
  # ===========================================================================

  # --- WAF Advanced ---

  - id: "waf-advanced"
    name: "Advanced WAF"
    version: "1.0.0"
    maturity: "stable"
    category: "security/network-security"
    subcategory: "waf"
    path: "_library/security/waf-advanced"

    description: "Production-grade WAF with OWASP Top 10, bot control, and rate limiting"
    long_description: |
      Enterprise-grade AWS WAF module with pre-configured rule sets for OWASP Top 10 protection,
      bot control, rate limiting, IP reputation lists, geo-blocking, and custom rule builder.
      Optimized for cost-effective rule ordering and comprehensive logging to S3/CloudWatch.
      Supports both CloudFront and Application Load Balancer deployments.

    tags:
      - waf
      - web-application-firewall
      - owasp
      - bot-control
      - rate-limiting
      - ddos
      - security
      - cloudfront
      - alb

    complexity: "advanced"
    setup_time_minutes: 15
    variable_count: 42

    cost:
      estimated_monthly_usd: 85
      cost_category: "medium"
      cost_factors:
        - "Web ACL: $5/month"
        - "Rules: $1/month per rule"
        - "Requests: $0.60 per 1M requests"
        - "Bot Control: $10/month + $1 per 1M requests"
        - "Logging: S3/CloudWatch storage costs"
      cost_breakdown:
        web_acl: 5
        managed_rules: 25
        custom_rules: 15
        bot_control: 20
        requests: 15
        logging: 5

    features:
      - "OWASP Top 10 Protection (Core Rule Set)"
      - "Bot Control with COMMON/TARGETED inspection"
      - "Rate limiting per IP address"
      - "IP reputation lists"
      - "Geographic blocking/allow-listing"
      - "Custom rule builder"
      - "Cost-optimized rule ordering"
      - "S3/CloudWatch/Kinesis logging"
      - "Sensitive header redaction"
      - "CloudWatch metrics integration"

    use_cases:
      - "Web application protection"
      - "API security"
      - "DDoS mitigation"
      - "Bot management"
      - "Compliance (PCI DSS, HIPAA)"

    maintainer:
      team: "Security Engineering"
      primary: "security-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#security-support"
      sla_hours: 12
      oncall: "security-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "cloudfront"
      - "alb"
      - "apigateway"
      - "monitoring"
      - "security-monitoring"

    incompatible_with: []
    replaces: []
    replaced_by: null

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      architecture_diagram: "./docs/architecture.md"
      examples:
        - path: "./examples/basic"
          description: "Basic WAF with OWASP Core Rule Set"
          complexity: "intermediate"
        - path: "./examples/advanced"
          description: "Advanced WAF with bot control and custom rules"
          complexity: "advanced"
        - path: "./examples/multi-region"
          description: "Multi-region WAF deployment"
          complexity: "advanced"

    testing:
      unit_tests: 18
      integration_tests: 8
      coverage_percent: 85
      last_test_run: "2025-12-02T10:00:00Z"
      test_status: "passing"
      test_duration_seconds: 240

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      last_scan: "2025-12-02"
      vulnerabilities:
        critical: 0
        high: 0
        medium: 0
        low: 0
      compliance:
        - "OWASP Top 10"
        - "CIS AWS Foundations"
        - "PCI DSS"
        - "HIPAA"

    performance:
      deployment_time_seconds: 900
      resource_count: 25
      state_size_kb: 120

  # --- KMS Multi-Region ---

  - id: "kms-multi-region"
    name: "KMS Multi-Region"
    version: "1.0.0"
    maturity: "stable"
    category: "security/encryption"
    subcategory: "kms"
    path: "_library/security/kms-multi-region"

    description: "Enterprise KMS key management with multi-region replication and automatic rotation"
    long_description: |
      Enterprise-grade AWS KMS module providing multi-region key management with automatic replication,
      key rotation, comprehensive key policies with least privilege, alias management, grant-based
      access control, and CloudTrail integration. Supports both single-region and multi-region keys
      with disaster recovery capabilities.

    tags:
      - kms
      - encryption
      - multi-region
      - key-management
      - disaster-recovery
      - dr
      - replication
      - rotation
      - grants
      - aliases

    complexity: "advanced"
    setup_time_minutes: 10
    variable_count: 28

    cost:
      estimated_monthly_usd: 3
      cost_category: "low"
      cost_factors:
        - "Primary key: $1/month"
        - "Replica keys: $1/month each"
        - "API requests: $0.03 per 10,000 requests"
      cost_breakdown:
        primary_key: 1
        replica_keys: 2
        api_requests: 0

    features:
      - "Multi-region key replication"
      - "Automatic annual key rotation"
      - "Least privilege key policies"
      - "Key alias management"
      - "Grant-based access control"
      - "Symmetric and asymmetric keys"
      - "CloudTrail integration"
      - "Cross-account access"

    use_cases:
      - "Multi-region disaster recovery"
      - "S3/EBS/RDS encryption"
      - "Secrets Manager integration"
      - "Cross-account encryption"
      - "Compliance requirements"

    maintainer:
      team: "Security Engineering"
      primary: "security-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#security-support"
      sla_hours: 12
      oncall: "security-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "s3"
      - "rds-*"
      - "ebs"
      - "secrets-manager-*"
      - "backup"

    incompatible_with: []
    replaces: ["kms-key"]
    replaced_by: null

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      examples:
        - path: "./examples/basic"
          description: "Basic KMS key with rotation"
          complexity: "beginner"
        - path: "./examples/advanced"
          description: "Advanced key with grants and complex policies"
          complexity: "advanced"
        - path: "./examples/multi-region"
          description: "Multi-region key with replicas for DR"
          complexity: "advanced"

    testing:
      unit_tests: 12
      integration_tests: 6
      coverage_percent: 88
      last_test_run: "2025-12-02T10:00:00Z"
      test_status: "passing"
      test_duration_seconds: 180

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      last_scan: "2025-12-02"
      vulnerabilities:
        critical: 0
        high: 0
        medium: 0
        low: 0
      compliance:
        - "CIS AWS Foundations"
        - "PCI DSS"
        - "HIPAA"
        - "SOC 2"

    performance:
      deployment_time_seconds: 600
      resource_count: 15
      state_size_kb: 45

  # --- Secrets Manager Advanced ---

  - id: "secrets-manager-advanced"
    name: "Secrets Manager Advanced"
    version: "1.0.0"
    maturity: "stable"
    category: "security/secrets"
    subcategory: "secrets-management"
    path: "_library/security/secrets-manager-advanced"

    description: "Advanced secrets management with automatic rotation and disaster recovery"
    long_description: |
      Enterprise secrets management with automatic rotation for RDS/Aurora/DocumentDB,
      cross-account access, replica secrets for DR, rotation monitoring and alerting,
      and Lambda-based rotation functions. Supports database passwords, API keys, and
      custom secrets with comprehensive rotation strategies.

    tags:
      - secrets
      - secrets-manager
      - rotation
      - disaster-recovery
      - rds
      - lambda
      - api-keys
      - passwords
      - multi-region

    complexity: "advanced"
    setup_time_minutes: 15
    variable_count: 35

    cost:
      estimated_monthly_usd: 2
      cost_category: "low"
      cost_factors:
        - "$0.40 per secret per month"
        - "$0.05 per 10,000 API calls"
        - "Lambda execution for rotation"
      cost_breakdown:
        secrets: 1.20
        api_calls: 0.50
        lambda: 0.30

    features:
      - "Automatic rotation (RDS, Aurora, DocumentDB, API keys)"
      - "Multi-region replication for DR"
      - "Lambda rotation functions (included)"
      - "Cross-account access policies"
      - "KMS encryption integration"
      - "CloudWatch monitoring and alarms"
      - "Rotation failure alerting"
      - "Version management"

    use_cases:
      - "Database credential rotation"
      - "API key management"
      - "Multi-region disaster recovery"
      - "Cross-account secrets sharing"
      - "Compliance (SOC 2, HIPAA)"

    maintainer:
      team: "Security Engineering"
      primary: "security-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#security-support"
      sla_hours: 12
      oncall: "security-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "rds-*"
      - "lambda"
      - "eks-*"
      - "ecs-*"
      - "kms-multi-region"

    incompatible_with: []
    replaces: ["secretsmanager"]
    replaced_by: null

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      examples:
        - path: "./examples/basic"
          description: "Basic secret with manual rotation"
          complexity: "beginner"
        - path: "./examples/advanced"
          description: "Secret with automatic rotation"
          complexity: "advanced"
        - path: "./examples/rds-rotation"
          description: "RDS password with automatic rotation"
          complexity: "advanced"

    testing:
      unit_tests: 15
      integration_tests: 8
      coverage_percent: 86
      last_test_run: "2025-12-02T10:00:00Z"
      test_status: "passing"
      test_duration_seconds: 540

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      last_scan: "2025-12-02"
      vulnerabilities:
        critical: 0
        high: 0
        medium: 0
        low: 0
      compliance:
        - "CIS AWS Foundations"
        - "PCI DSS"
        - "HIPAA"
        - "SOC 2"

    performance:
      deployment_time_seconds: 900
      resource_count: 20
      state_size_kb: 65

  #############################################################################
  # OPERATIONS LAYER
  #############################################################################

  # --- Backup ---

  - id: "backup"
    name: "AWS Backup"
    version: "1.5.0"
    maturity: "stable"
    category: "operations/backup"
    subcategory: "disaster-recovery"
    path: "backup"
    alternate_paths:
      - "_library/data/storage/backup"

    description: "Automated backup and disaster recovery using AWS Backup"
    long_description: |
      Comprehensive AWS Backup solution with backup plans, vaults, policies,
      and cross-region backup support. Supports multiple AWS resource types
      including EC2, RDS, EFS, DynamoDB, and more.

    tags:
      - backup
      - disaster-recovery
      - dr
      - aws-backup
      - compliance

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 24

    cost:
      estimated_monthly_usd: 30
      cost_category: "low"
      cost_factors:
        - "Backup storage: $0.05/GB/month"
        - "Restore requests: $0.02/GB"
        - "Cross-region transfer"

    maintainer:
      team: "SRE Team"
      primary: "sre-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "rds-*"
      - "ec2"
      - "efs"
      - "dynamodb"

    metrics:
      downloads: 780
      rating: 4.7
      rating_count: 89
      deployments: 456
      active_deployments: 432
      last_updated: "2025-11-28"

  # --- Cost Optimization ---

  - id: "cost-optimization"
    name: "Cost Optimization"
    version: "1.4.0"
    maturity: "stable"
    category: "operations/cost-management"
    subcategory: "finops"
    path: "cost-optimization"
    alternate_paths:
      - "_library/patterns/governance/cost-optimization"

    description: "Automated cost management with resource scheduling and unused resource cleanup"
    long_description: |
      FinOps automation module implementing cost management best practices.
      Includes automated resource scheduling, unused resource detection and cleanup,
      cost anomaly detection, savings recommendations, and budget alerts.

    tags:
      - cost
      - finops
      - optimization
      - savings
      - budget
      - scheduling

    complexity: "advanced"
    setup_time_minutes: 15
    variable_count: 28

    cost:
      estimated_monthly_usd: 10
      cost_category: "low"
      cost_factors:
        - "Lambda execution"
        - "CloudWatch logs"
        - "Savings potential: $500-5000/month"

    features:
      - "Automated resource scheduling"
      - "Unused resource detection"
      - "Cost anomaly detection"
      - "Savings recommendations"
      - "Budget alerts"
      - "Rightsizing suggestions"

    maintainer:
      team: "FinOps Team"
      primary: "finops-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "All modules"

    metrics:
      downloads: 670
      rating: 4.8
      rating_count: 78
      deployments: 289
      active_deployments: 276
      last_updated: "2025-11-22"

  # --- IDP Platform ---

  - id: "idp-platform"
    name: "Internal Developer Platform"
    version: "2.0.0"
    maturity: "beta"
    category: "operations/platform"
    subcategory: "developer-platform"
    path: "idp-platform"
    alternate_paths:
      - "_library/patterns/platform/idp-platform"

    description: "Comprehensive Internal Developer Platform with EKS, CI/CD, and developer tools"
    long_description: |
      Complete Internal Developer Platform infrastructure including EKS clusters,
      GitOps workflows, CI/CD pipelines, service mesh, observability stack,
      and developer self-service portals.

    tags:
      - idp
      - platform
      - eks
      - gitops
      - cicd
      - developer-experience

    complexity: "advanced"
    setup_time_minutes: 45
    variable_count: 52

    cost:
      estimated_monthly_usd: 800
      cost_category: "very-high"
      cost_factors:
        - "EKS cluster"
        - "Worker nodes"
        - "Platform services"
        - "Storage"
        - "Data transfer"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
        kubernetes: ">= 2.20.0"
        helm: ">= 2.10.0"
      required_modules:
        - "vpc-standard"
        - "eks-standard"
        - "rds-postgres"

    compatible_with:
      - "vpc-standard"
      - "eks-standard"
      - "monitoring"
      - "security-monitoring"

    metrics:
      downloads: 340
      rating: 4.7
      rating_count: 45
      deployments: 124
      active_deployments: 118
      last_updated: "2025-11-30"

  # --- DNS ---

  - id: "dns"
    name: "Route53 DNS"
    version: "1.6.0"
    maturity: "stable"
    category: "foundations/networking"
    subcategory: "dns"
    path: "dns"
    alternate_paths:
      - "_library/foundations/networking/dns"

    description: "Route53 hosted zones and DNS records with health checks"
    long_description: |
      Route53 DNS management module for creating hosted zones, DNS records,
      health checks, and routing policies. Supports public and private zones,
      alias records, and integration with AWS services.

    tags:
      - dns
      - route53
      - hosted-zone
      - health-checks

    complexity: "beginner"
    setup_time_minutes: 5
    variable_count: 16

    cost:
      estimated_monthly_usd: 2
      cost_category: "low"
      cost_factors:
        - "Hosted zone: $0.50/month"
        - "Queries: $0.40 per million"
        - "Health checks: $0.50/month each"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "acm"
      - "apigateway"
      - "alb"
      - "cloudfront"

    metrics:
      downloads: 1340
      rating: 4.5
      rating_count: 176
      deployments: 823
      active_deployments: 789
      last_updated: "2025-11-12"

  # --- Backend ---

  - id: "backend"
    name: "Terraform State Backend"
    version: "1.9.0"
    maturity: "mature"
    category: "operations/infrastructure"
    subcategory: "terraform"
    path: "backend"

    description: "S3 + DynamoDB Terraform state backend with encryption and locking"
    long_description: |
      Production-ready Terraform state backend using S3 for state storage
      and DynamoDB for state locking. Includes versioning, encryption at rest,
      access logging, and lifecycle policies.

    tags:
      - terraform
      - state
      - backend
      - s3
      - dynamodb

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 20

    cost:
      estimated_monthly_usd: 3
      cost_category: "low"
      cost_factors:
        - "S3 storage"
        - "DynamoDB (on-demand)"
        - "S3 requests"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "All modules"

    metrics:
      downloads: 2340
      rating: 4.9
      rating_count: 312
      deployments: 1234
      active_deployments: 1234
      last_updated: "2025-11-30"

  # --- ECS ---

  - id: "ecs"
    name: "Amazon ECS"
    version: "1.8.0"
    maturity: "stable"
    category: "compute/containers"
    subcategory: "ecs"
    path: "ecs"
    alternate_paths:
      - "_library/compute/containers/ecs-fargate"

    description: "ECS cluster with Fargate and EC2 launch types"
    long_description: |
      Amazon ECS module supporting both Fargate and EC2 launch types.
      Includes service definitions, task definitions, auto-scaling,
      load balancer integration, and CloudWatch Container Insights.

    tags:
      - ecs
      - containers
      - fargate
      - docker

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 32

    cost:
      estimated_monthly_usd: 120
      cost_category: "medium"
      cost_factors:
        - "Fargate vCPU and memory"
        - "Load balancer"
        - "Data transfer"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"

    compatible_with:
      - "vpc-*"
      - "monitoring"
      - "iam"

    metrics:
      downloads: 890
      rating: 4.6
      rating_count: 123
      deployments: 445
      active_deployments: 421
      last_updated: "2025-11-18"

  # --- EKS Add-ons ---

  - id: "eks-addons"
    name: "EKS Add-ons"
    version: "1.7.0"
    maturity: "stable"
    category: "compute/containers"
    subcategory: "kubernetes-addons"
    path: "eks-addons"
    alternate_paths:
      - "_library/compute/containers/eks-addons"

    description: "Essential EKS add-ons including CSI drivers, CNI, and CoreDNS"
    long_description: |
      Collection of essential EKS add-ons including EBS CSI driver, EFS CSI driver,
      VPC CNI, CoreDNS, kube-proxy, and AWS Load Balancer Controller.
      Configured with production-ready defaults.

    tags:
      - eks
      - kubernetes
      - addons
      - csi
      - cni

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 20

    cost:
      estimated_monthly_usd: 10
      cost_category: "low"
      cost_factors:
        - "EBS volumes"
        - "EFS file systems"
        - "Load balancers"

    maintainer:
      team: "Kubernetes Team"
      primary: "kubernetes-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
        kubernetes: ">= 2.20.0"
        helm: ">= 2.10.0"
      required_modules:
        - "eks-standard"

    compatible_with:
      - "eks-standard"

    metrics:
      downloads: 780
      rating: 4.7
      rating_count: 98
      deployments: 356
      active_deployments: 342
      last_updated: "2025-11-20"

  # ===========================================================================
  # PHASE 2: NEW COMPUTE MODULES (2025-12-02)
  # ===========================================================================

  # --- ECS Fargate Service ---

  - id: "ecs-fargate-service"
    name: "ECS Fargate Service"
    version: "1.0.0"
    maturity: "stable"
    category: "compute/containers"
    subcategory: "ecs-fargate"
    path: "_library/compute/ecs-fargate-service"

    description: "Production-ready ECS Fargate service with auto-scaling, blue-green deployments, and circuit breaker"
    long_description: |
      Comprehensive ECS Fargate service module with complete lifecycle management.
      Includes auto-scaling (CPU, memory, ALB), blue-green deployments via CodeDeploy,
      circuit breaker for automatic rollback, service discovery, load balancer integration,
      CloudWatch Container Insights, ECS Exec, secrets management, and cost optimization
      with Fargate Spot. Battle-tested for production workloads.

    tags:
      - ecs
      - fargate
      - containers
      - docker
      - auto-scaling
      - blue-green
      - circuit-breaker
      - service-discovery
      - codedeploy
      - production

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 85

    cost:
      estimated_monthly_usd: 120
      cost_category: "medium"
      cost_factors:
        - "Fargate vCPU/memory pricing"
        - "Load balancer (if enabled)"
        - "CloudWatch Logs storage"
        - "Data transfer"
        - "Fargate Spot savings (up to 70%)"
      cost_breakdown:
        fargate_tasks: 78
        load_balancer: 16
        cloudwatch: 10
        data_transfer: 16
      cost_optimization:
        - "Enable Fargate Spot for 50-70% cost reduction"
        - "Use auto-scaling to scale down during off-peak"
        - "Right-size CPU and memory based on metrics"
        - "Use ARM64 architecture where supported"

    features:
      - "Complete ECS Fargate service with cluster creation"
      - "Auto-scaling: CPU, memory, ALB request count"
      - "Blue-green deployments via AWS CodeDeploy"
      - "Circuit breaker for automatic rollback"
      - "Service discovery via AWS Cloud Map"
      - "Load balancer integration (ALB/NLB)"
      - "CloudWatch Container Insights"
      - "CloudWatch Logs with configurable retention"
      - "ECS Exec for container debugging"
      - "AWS X-Ray tracing support"
      - "Secrets Manager and SSM Parameter Store integration"
      - "Fargate Spot for cost optimization"
      - "EFS volume support for persistent storage"
      - "Capacity provider strategy"
      - "IAM roles with least privilege"
      - "Security group management"
      - "Health check configuration"
      - "Deployment strategies (rolling, blue/green)"

    use_cases:
      - "Production containerized applications"
      - "Microservices architectures"
      - "API services with auto-scaling"
      - "Batch processing workloads"
      - "Event-driven applications"
      - "CI/CD deployment targets"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"
      backup: "sre-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24
      oncall: "platform-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"

    compatible_with:
      - "vpc-standard"
      - "vpc-advanced"
      - "alb"
      - "nlb"
      - "service-discovery"
      - "efs"
      - "secretsmanager"
      - "monitoring"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      examples:
        - path: "./examples/basic"
          description: "Simple Fargate service with auto-scaling"
          complexity: "intermediate"
        - path: "./examples/complete"
          description: "Full-featured service with all options"
          complexity: "advanced"
        - path: "./examples/blue-green"
          description: "Blue-green deployment with CodeDeploy"
          complexity: "advanced"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "AWS Well-Architected"

  # --- Lambda Pattern Library ---

  - id: "lambda-pattern-library"
    name: "Lambda Pattern Library"
    version: "1.0.0"
    maturity: "stable"
    category: "compute/serverless"
    subcategory: "lambda-patterns"
    path: "_library/compute/lambda-pattern-library"

    description: "Comprehensive Lambda module with 5 deployment patterns: REST API, Event-Driven, Stream Processing, Scheduled, VPC-Integrated"
    long_description: |
      Production-ready Lambda function module supporting multiple deployment patterns.
      Includes API Gateway integration (REST/HTTP), EventBridge rules, SQS/SNS triggers,
      Kinesis/DynamoDB stream processing, VPC configuration, provisioned concurrency,
      X-Ray tracing, dead letter queues, Lambda layers, EFS support, and comprehensive
      IAM role management. Optimized for cost with ARM64 support and right-sizing.

    tags:
      - lambda
      - serverless
      - functions
      - api-gateway
      - eventbridge
      - sqs
      - sns
      - kinesis
      - streams
      - event-driven
      - rest-api
      - vpc
      - layers
      - provisioned-concurrency

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 95

    cost:
      estimated_monthly_usd: 10
      cost_category: "low"
      cost_factors:
        - "Invocations: $0.20 per 1M requests"
        - "Duration: $0.0000166667 per GB-second"
        - "Provisioned concurrency (if enabled)"
        - "Data transfer"
      cost_breakdown:
        invocations: 2
        compute: 5
        provisioned_concurrency: 0
        other: 3
      cost_optimization:
        - "Use ARM64 architecture for 20% cost reduction"
        - "Right-size memory allocation (128MB to 10GB)"
        - "Use provisioned concurrency only for critical functions"
        - "Optimize cold start times with SnapStart (Java/Kotlin)"
        - "Use Lambda layers to reduce deployment package size"

    features:
      - "5 deployment patterns supported"
      - "API Gateway integration (REST and HTTP APIs)"
      - "EventBridge scheduled and event-driven triggers"
      - "SQS queue processing with batch configuration"
      - "SNS topic subscription"
      - "Kinesis and DynamoDB stream processing"
      - "Lambda Function URLs for public HTTPS endpoints"
      - "VPC configuration for private resource access"
      - "Provisioned concurrency for consistent performance"
      - "Dead Letter Queue for failed invocations"
      - "AWS X-Ray tracing support"
      - "CloudWatch Logs with configurable retention"
      - "Lambda layers management (up to 5 layers)"
      - "Secrets Manager and SSM Parameter Store integration"
      - "EFS file system support for persistent storage"
      - "Code signing configuration"
      - "SnapStart for Java/Kotlin (faster cold starts)"
      - "IAM roles with least privilege"
      - "Multiple runtime support (Python, Node.js, Java, Go, .NET, Ruby)"
      - "ARM64 architecture for cost savings"
      - "IMDSv2 enforcement"

    deployment_patterns:
      - name: "REST API Pattern"
        description: "API Gateway  Lambda  Backend Services"
        use_case: "RESTful APIs, HTTP endpoints"
      - name: "Event-Driven Pattern"
        description: "EventBridge  Lambda"
        use_case: "Scheduled tasks, event processing"
      - name: "Stream Processing Pattern"
        description: "Kinesis/DynamoDB  Lambda  Processing"
        use_case: "Real-time data processing, CDC"
      - name: "Queue Processing Pattern"
        description: "SQS  Lambda  Async Processing"
        use_case: "Asynchronous task processing, job queues"
      - name: "VPC-Integrated Pattern"
        description: "Lambda  VPC  Private Resources"
        use_case: "Database access, private API calls"

    use_cases:
      - "RESTful API backends"
      - "Scheduled data processing"
      - "Event-driven microservices"
      - "Stream processing pipelines"
      - "Asynchronous task processing"
      - "Webhooks and integrations"
      - "Data transformations"
      - "Real-time analytics"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
        archive: ">= 2.0.0"

    compatible_with:
      - "api-gateway-rest"
      - "eventbridge"
      - "sqs-queue"
      - "sns-topic"
      - "kinesis-stream"
      - "dynamodb-table"
      - "vpc-*"
      - "efs"
      - "secretsmanager"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      examples:
        - path: "./examples/rest-api"
          description: "REST API with API Gateway"
          complexity: "intermediate"
        - path: "./examples/event-driven"
          description: "EventBridge scheduled and event-based"
          complexity: "beginner"
        - path: "./examples/stream-processing"
          description: "Kinesis stream processing"
          complexity: "advanced"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- ASG Launch Template ---

  - id: "asg-launch-template"
    name: "ASG Launch Template"
    version: "1.0.0"
    maturity: "stable"
    category: "compute/virtual-machines"
    subcategory: "auto-scaling"
    path: "_library/compute/asg-launch-template"

    description: "EC2 Auto Scaling with launch template, mixed instances, multiple scaling policies, and cost optimization"
    long_description: |
      Production-ready EC2 Auto Scaling Group with modern launch template.
      Supports mixed instances policy for cost optimization, multiple scaling policies
      (target tracking, step, scheduled), instance refresh for zero-downtime updates,
      warm pools for faster scaling, Spot instances, CloudWatch monitoring with custom
      metrics, and comprehensive cost optimization strategies.

    tags:
      - ec2
      - auto-scaling
      - asg
      - launch-template
      - spot-instances
      - mixed-instances
      - scaling-policies
      - cost-optimization
      - imdsv2

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 52

    cost:
      estimated_monthly_usd: 100
      cost_category: "medium"
      cost_factors:
        - "Instance type and count"
        - "Spot vs On-Demand ratio"
        - "EBS volumes"
        - "Data transfer"
        - "CloudWatch detailed monitoring"
      cost_breakdown:
        instances: 72
        ebs_volumes: 12
        monitoring: 8
        data_transfer: 8
      cost_optimization:
        - "Use 70-80% Spot instances for 45-67% savings"
        - "Enable mixed instances policy with multiple types"
        - "Use capacity-optimized Spot allocation strategy"
        - "Enable warm pools for faster scaling"
        - "Use scheduled scaling for predictable patterns"
        - "Right-size instance types based on metrics"

    features:
      - "Launch template with IMDSv2 enforcement"
      - "Mixed instances policy for cost optimization"
      - "Multiple scaling policies (target tracking, step, scheduled)"
      - "Auto-scaling: CPU, memory, ALB request count"
      - "Instance refresh for zero-downtime updates"
      - "Warm pool configuration for faster scaling"
      - "Lifecycle hooks support"
      - "CloudWatch detailed monitoring"
      - "CloudWatch agent with custom metrics"
      - "IAM roles with SSM and CloudWatch permissions"
      - "Security group management"
      - "Spot instance support with capacity-optimized allocation"
      - "Multiple instance type support"
      - "Encrypted EBS volumes"
      - "CloudWatch alarms for monitoring"
      - "Health checks (EC2 and ELB)"
      - "Termination policies"
      - "ALB/NLB target group integration"

    scaling_strategies:
      - name: "Target Tracking - CPU"
        description: "Scale based on average CPU utilization"
        recommended_for: "Most workloads"
      - name: "Target Tracking - Memory"
        description: "Scale based on memory usage (requires CloudWatch agent)"
        recommended_for: "Memory-intensive applications"
      - name: "Target Tracking - ALB"
        description: "Scale based on requests per target"
        recommended_for: "Web applications"
      - name: "Scheduled Scaling"
        description: "Scale at specific times using cron expressions"
        recommended_for: "Predictable traffic patterns"

    use_cases:
      - "Web application servers"
      - "API backend services"
      - "Batch processing workloads"
      - "Worker nodes for job processing"
      - "Stateless application tiers"
      - "Development and testing environments"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"

    compatible_with:
      - "vpc-standard"
      - "vpc-advanced"
      - "alb"
      - "nlb"
      - "efs"
      - "monitoring"
      - "iam"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      changelog: "./CHANGELOG.md"
      examples:
        - path: "./examples/basic"
          description: "Simple ASG with target tracking"
          complexity: "beginner"
        - path: "./examples/mixed-instances"
          description: "Mixed instances with Spot optimization"
          complexity: "intermediate"
        - path: "./examples/spot"
          description: "High Spot percentage for cost savings"
          complexity: "intermediate"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "IMDSv2 enforced"

  # ===========================================================================
  # PHASE 3: OBSERVABILITY MODULES (2025-12-02)
  # ===========================================================================

  # --- CloudWatch Dashboard ---

  - id: "cloudwatch-dashboard"
    name: "CloudWatch Dashboard"
    version: "1.0.0"
    maturity: "stable"
    category: "observability/metrics"
    subcategory: "dashboards"
    path: "_library/observability/cloudwatch-dashboard"

    description: "Reusable dashboard builder with pre-built widget library and auto-discovery"
    long_description: |
      Production-ready CloudWatch dashboard module with pre-configured widget templates for
      infrastructure, application, cost, and security monitoring. Includes auto-discovery of
      EC2, RDS, and ALB resources, support for custom widgets, metric math capabilities,
      and cost estimation tracking. Template-based generation ensures consistency across
      environments.

    tags:
      - cloudwatch
      - dashboard
      - monitoring
      - metrics
      - widgets
      - auto-discovery
      - visualization
      - observability

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 15

    cost:
      estimated_monthly_usd: 3
      cost_category: "low"
      cost_factors:
        - "$3 per dashboard per month"
        - "Additional costs for custom metrics"
      cost_breakdown:
        dashboard: 3

    features:
      - "Pre-built dashboard types (infrastructure, application, cost, security)"
      - "Auto-discovery of EC2, RDS, ALB resources"
      - "Custom widget support"
      - "Metric math and calculations"
      - "Template-based generation"
      - "Cost estimation tracking"
      - "Log insights widgets"
      - "Configurable widget library"

    use_cases:
      - "Infrastructure monitoring dashboards"
      - "Application performance tracking"
      - "Cost visibility and tracking"
      - "Security event monitoring"
      - "Multi-service overview dashboards"

    maintainer:
      team: "SRE Team"
      primary: "sre-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#sre-support"
      sla_hours: 24
      oncall: "sre-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "cloudwatch-alarms"
      - "log-aggregation"
      - "xray-tracing"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: null
      examples:
        - path: "./examples/basic"
          description: "Basic dashboard with auto-discovery"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- CloudWatch Alarms ---

  - id: "cloudwatch-alarms"
    name: "CloudWatch Alarms"
    version: "1.0.0"
    maturity: "stable"
    category: "observability/alerting"
    subcategory: "alarms"
    path: "_library/observability/cloudwatch-alarms"

    description: "Alarm factory with templates, composite alarms, and auto-remediation"
    long_description: |
      Production-ready CloudWatch alarm module with alarm factory pattern for common scenarios.
      Includes pre-configured templates for CPU, memory, disk monitoring, anomaly detection
      alarms, composite alarms for complex conditions, SNS topic integration, and Lambda-based
      auto-remediation. Supports custom alarm definitions and comprehensive notification routing.

    tags:
      - cloudwatch
      - alarms
      - alerting
      - monitoring
      - anomaly-detection
      - composite-alarms
      - auto-remediation
      - sns
      - notifications

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 35

    cost:
      estimated_monthly_usd: 5
      cost_category: "low"
      cost_factors:
        - "$0.10 per standard alarm per month"
        - "$0.30 per composite alarm per month"
        - "SNS notification costs"
        - "Lambda execution costs (if auto-remediation enabled)"
      cost_breakdown:
        standard_alarms: 2
        composite_alarms: 1
        sns: 1
        lambda: 1

    features:
      - "Alarm templates (CPU, memory, disk, custom)"
      - "Anomaly detection alarms with ML"
      - "Composite alarms for complex conditions"
      - "SNS topic creation and subscription"
      - "Auto-remediation with Lambda"
      - "Email notifications"
      - "Custom alarm factory"
      - "Alarm action routing"

    use_cases:
      - "Infrastructure health monitoring"
      - "Application performance alerting"
      - "Anomaly detection"
      - "Auto-scaling triggers"
      - "Incident response automation"

    maintainer:
      team: "SRE Team"
      primary: "sre-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#sre-support"
      sla_hours: 12
      oncall: "sre-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "cloudwatch-dashboard"
      - "log-aggregation"
      - "monitoring"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: null
      examples:
        - path: "./examples/basic"
          description: "Standard alarms with SNS notifications"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- X-Ray Tracing ---

  - id: "xray-tracing"
    name: "X-Ray Tracing"
    version: "1.0.0"
    maturity: "stable"
    category: "observability/tracing"
    subcategory: "distributed-tracing"
    path: "_library/observability/xray-tracing"

    description: "X-Ray groups, sampling rules, and service integrations with cost optimization"
    long_description: |
      Production-ready AWS X-Ray module for distributed tracing. Includes cost-optimized
      sampling rules by environment, X-Ray groups for error tracking and slow requests,
      service map configuration, Lambda/ECS/API Gateway integration, X-Ray Insights with
      analytics, and intelligent sampling strategies to minimize costs while maintaining
      visibility.

    tags:
      - xray
      - tracing
      - distributed-tracing
      - apm
      - observability
      - sampling
      - service-map
      - insights
      - cost-optimization

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 28

    cost:
      estimated_monthly_usd: 15
      cost_category: "low"
      cost_factors:
        - "$5 per 1M traces recorded"
        - "$0.50 per 1M traces scanned"
        - "Cost varies with sampling rate"
        - "Production: 5% sampling reduces costs by 95%"
      cost_breakdown:
        traces_recorded: 10
        traces_scanned: 3
        insights: 2
      cost_optimization:
        - "Environment-based sampling (5% prod, 20% staging, 100% dev)"
        - "High-value path sampling at 100%"
        - "Intelligent reservoir sizing"

    features:
      - "Cost-optimized sampling strategies by environment"
      - "X-Ray groups (all, errors, slow requests)"
      - "Custom sampling rules"
      - "Lambda function integration"
      - "ECS task integration"
      - "API Gateway integration"
      - "X-Ray Insights and analytics"
      - "Service map configuration"
      - "CloudWatch alarms for trace errors"

    use_cases:
      - "Distributed system tracing"
      - "Microservices debugging"
      - "Performance bottleneck identification"
      - "Service dependency mapping"
      - "Latency analysis"
      - "Error tracking"

    maintainer:
      team: "SRE Team"
      primary: "sre-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#sre-support"
      sla_hours: 24
      oncall: "sre-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "lambda-pattern-library"
      - "ecs-fargate-service"
      - "apigateway-rest"
      - "cloudwatch-dashboard"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: null
      examples:
        - path: "./examples/basic"
          description: "Basic X-Ray setup with cost optimization"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- Log Aggregation ---

  - id: "log-aggregation"
    name: "Log Aggregation"
    version: "1.0.0"
    maturity: "stable"
    category: "observability/logging"
    subcategory: "log-management"
    path: "_library/observability/log-aggregation"

    description: "CloudWatch Logs centralization with Kinesis, S3 export, and Athena queries"
    long_description: |
      Enterprise log aggregation solution with CloudWatch Logs centralization, real-time
      streaming to Kinesis Data Streams, automated S3 export with lifecycle policies,
      Athena query setup for SQL-based analysis, subscription filters for routing, metric
      filters for extracting metrics from logs, and comprehensive retention management.
      Ideal for multi-service logging consolidation.

    tags:
      - cloudwatch
      - logs
      - logging
      - aggregation
      - kinesis
      - s3
      - athena
      - subscription-filters
      - metric-filters
      - log-analytics

    complexity: "advanced"
    setup_time_minutes: 15
    variable_count: 22

    cost:
      estimated_monthly_usd: 50
      cost_category: "medium"
      cost_factors:
        - "Log ingestion: $0.50 per GB"
        - "Kinesis: $0.015 per shard-hour + $0.014 per GB"
        - "S3 storage: $0.023 per GB (transitions to IA/Glacier)"
        - "Athena: $5 per TB scanned"
      cost_breakdown:
        log_ingestion: 25
        kinesis: 15
        s3_storage: 5
        athena: 5
      cost_optimization:
        - "Aggressive S3 lifecycle policies"
        - "Kinesis on-demand mode for variable traffic"
        - "Partition logs in S3 for efficient Athena queries"

    features:
      - "Centralized CloudWatch Logs groups"
      - "Real-time Kinesis Data Streams"
      - "Automated S3 export with Lambda"
      - "S3 lifecycle policies (IA, Glacier, expiration)"
      - "Athena workgroup and database setup"
      - "Subscription filters for log routing"
      - "Metric filters for log-based metrics"
      - "Configurable retention policies"
      - "KMS encryption for logs and streams"

    use_cases:
      - "Multi-service log consolidation"
      - "Real-time log streaming"
      - "Long-term log archival"
      - "SQL-based log analysis with Athena"
      - "Compliance and audit logging"
      - "Log-based metric extraction"

    maintainer:
      team: "SRE Team"
      primary: "sre-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#sre-support"
      sla_hours: 24
      oncall: "sre-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "cloudwatch-dashboard"
      - "cloudwatch-alarms"
      - "lambda-pattern-library"
      - "ecs-fargate-service"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      issues_open: 0
      issues_closed: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"
      deprecated: null
      removed: null
      replacement: null

    documentation:
      readme: "./README.md"
      changelog: null
      examples:
        - path: "./examples/basic"
          description: "Complete log aggregation pipeline"
          complexity: "intermediate"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      terrascan_passing: true
      compliance:
        - "AWS Well-Architected"
        - "SOC 2"

  # ===========================================================================
  # PHASE 3: ADVANCED NETWORKING MODULES (2025-12-02)
  # ===========================================================================

  # --- Transit Gateway ---

  - id: "transit-gateway"
    name: "Transit Gateway"
    version: "1.0.0"
    maturity: "stable"
    category: "networking/hybrid"
    subcategory: "transit-gateway"
    path: "_library/networking/transit-gateway"

    description: "AWS Transit Gateway with VPC/VPN attachments, route tables, and cross-region peering"
    long_description: |
      Enterprise Transit Gateway module for hub-and-spoke network architecture.
      Supports VPC attachments, VPN connections, custom route tables with associations
      and propagations, cross-account sharing via RAM, and cross-region peering.
      Ideal for connecting multiple VPCs and on-premises networks.

    tags:
      - transit-gateway
      - tgw
      - networking
      - hybrid-cloud
      - vpn
      - peering
      - ram
      - multi-account
      - hub-spoke

    complexity: "advanced"
    setup_time_minutes: 20
    variable_count: 15

    cost:
      estimated_monthly_usd: 110
      cost_category: "medium"
      cost_factors:
        - "Transit Gateway: $36.50/month"
        - "Attachment per VPC: $36.50/month each"
        - "Data processing: $0.02/GB"
      cost_breakdown:
        transit_gateway: 36.50
        attachments: 73
        data_processing: "Variable"

    features:
      - "Transit Gateway with customizable ASN"
      - "VPC attachments with route table management"
      - "VPN attachments with BGP support"
      - "Custom route tables and static routes"
      - "Route table associations and propagations"
      - "Cross-account sharing via RAM"
      - "Cross-region peering"
      - "Multicast support (optional)"
      - "VPN ECMP support"

    use_cases:
      - "Multi-VPC connectivity"
      - "Hybrid cloud networking"
      - "Hub-and-spoke architectures"
      - "Multi-account AWS organizations"
      - "Centralized egress/ingress"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#networking-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "vpc-*"
      - "vpn-connection"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- VPN Connection ---

  - id: "vpn-connection"
    name: "VPN Connection"
    version: "1.0.0"
    maturity: "stable"
    category: "networking/hybrid"
    subcategory: "vpn"
    path: "_library/networking/vpn-connection"

    description: "Site-to-Site VPN with customer gateway, dual tunnels, and comprehensive monitoring"
    long_description: |
      Production-ready Site-to-Site VPN module supporting both Virtual Private Gateway
      and Transit Gateway deployments. Features dual tunnels for high availability,
      static and dynamic (BGP) routing, advanced IPsec parameters (IKEv2), CloudWatch
      logs and alarms, and automatic failover.

    tags:
      - vpn
      - site-to-site
      - customer-gateway
      - virtual-private-gateway
      - bgp
      - ipsec
      - ikev2
      - hybrid-cloud
      - monitoring

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 35

    cost:
      estimated_monthly_usd: 40
      cost_category: "low"
      cost_factors:
        - "VPN connection: $36.50/month"
        - "Data transfer: $0.09/GB out"
      cost_breakdown:
        vpn_connection: 36.50
        data_transfer: "Variable"

    features:
      - "Customer gateway configuration"
      - "Virtual Private Gateway or Transit Gateway support"
      - "Static and dynamic routing (BGP)"
      - "Dual tunnels for high availability"
      - "IKEv2 with modern encryption"
      - "Custom IPsec parameters (DH groups, encryption, integrity)"
      - "CloudWatch logs per tunnel"
      - "CloudWatch alarms (tunnel state, data flow)"
      - "Automatic route propagation"

    use_cases:
      - "Connect on-premises to AWS"
      - "Hybrid cloud connectivity"
      - "Disaster recovery site connectivity"
      - "Remote office connectivity"
      - "Multi-cloud networking"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "vpc-*"
      - "transit-gateway"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- Network Firewall ---

  - id: "network-firewall"
    name: "Network Firewall"
    version: "1.0.0"
    maturity: "stable"
    category: "networking/security"
    subcategory: "firewall"
    path: "_library/networking/network-firewall"

    description: "AWS Network Firewall with stateful/stateless rules, domain filtering, and IPS"
    long_description: |
      Enterprise Network Firewall module providing Layer 3-7 network protection.
      Supports stateless and stateful rule groups, domain-based filtering (allow/deny lists),
      Suricata-compatible IPS rules, multi-AZ deployment for high availability, and
      comprehensive logging to S3 and CloudWatch. Ideal for centralized inspection VPC patterns.

    tags:
      - network-firewall
      - firewall
      - ips
      - ids
      - stateful
      - stateless
      - domain-filtering
      - suricata
      - security
      - inspection

    complexity: "advanced"
    setup_time_minutes: 20
    variable_count: 18

    cost:
      estimated_monthly_usd: 550
      cost_category: "high"
      cost_factors:
        - "Network Firewall endpoint: $0.395/hour per AZ"
        - "Data processing: $0.065/GB"
        - "Rule groups included"
      cost_breakdown:
        firewall_endpoints: 288
        data_processing: 260
        storage: 2

    features:
      - "Stateless rule groups for fast packet filtering"
      - "Stateful rule groups (domain, 5-tuple, Suricata)"
      - "Domain filtering with allow/deny lists"
      - "Suricata-compatible IPS rules"
      - "Multi-AZ deployment for high availability"
      - "Flow logs to S3 and CloudWatch"
      - "Alert logs to CloudWatch"
      - "Delete and change protection"
      - "Centralized inspection VPC pattern ready"

    use_cases:
      - "Centralized egress filtering"
      - "Ingress inspection"
      - "Domain-based filtering"
      - "IPS/IDS deployment"
      - "Compliance requirements (PCI DSS, HIPAA)"
      - "Zero-trust network architectures"

    maintainer:
      team: "Security Engineering"
      primary: "security-team@example.com"

    support:
      channel: "#security-support"
      sla_hours: 12

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "vpc-*"
      - "transit-gateway"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "PCI DSS"
        - "HIPAA"

  # --- NAT Gateway HA ---

  - id: "nat-gateway-ha"
    name: "NAT Gateway HA"
    version: "1.0.0"
    maturity: "stable"
    category: "networking/connectivity"
    subcategory: "nat"
    path: "_library/networking/nat-gateway-ha"

    description: "Highly available NAT Gateway with one per AZ, monitoring, and cost tracking"
    long_description: |
      Production-ready NAT Gateway module deploying one NAT Gateway per availability zone
      for high availability. Includes Elastic IP management, automatic route table configuration,
      CloudWatch monitoring with alarms for port allocation errors and packet drops, and
      cost tracking dashboard. Optimized for fault tolerance and observability.

    tags:
      - nat-gateway
      - nat
      - high-availability
      - multi-az
      - elastic-ip
      - monitoring
      - cost-optimization

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 10

    cost:
      estimated_monthly_usd: 97
      cost_category: "medium"
      cost_factors:
        - "NAT Gateway per AZ: $32.85/month each"
        - "Data processing: $0.045/GB"
        - "Typical 3-AZ deployment shown"
      cost_breakdown:
        nat_gateways: 97
        data_processing: "Variable"

    features:
      - "One NAT Gateway per availability zone"
      - "Automatic Elastic IP allocation"
      - "Route table creation and association"
      - "CloudWatch alarms for port allocation errors"
      - "CloudWatch alarms for packet drops"
      - "Bandwidth monitoring alarms"
      - "CloudWatch dashboard for cost tracking"
      - "Per-AZ resource tagging"

    use_cases:
      - "High-availability internet egress"
      - "Multi-AZ production workloads"
      - "Fault-tolerant architectures"
      - "Private subnet internet access"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "vpc-*"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- VPC Endpoints ---

  - id: "vpc-endpoints"
    name: "VPC Endpoints"
    version: "1.0.0"
    maturity: "stable"
    category: "networking/connectivity"
    subcategory: "vpc-endpoints"
    path: "_library/networking/vpc-endpoints"

    description: "Comprehensive VPC endpoints for 30+ AWS services with Gateway and Interface endpoints"
    long_description: |
      Production-ready VPC endpoints module supporting 30+ AWS services including S3, DynamoDB,
      ECR, ECS, Lambda, Secrets Manager, and more. Features automatic security group creation,
      private DNS configuration, endpoint policies, cost estimation, and multi-AZ deployment.
      Reduces data transfer costs and improves security by keeping traffic within AWS network.

    tags:
      - vpc-endpoints
      - privatelink
      - interface-endpoints
      - gateway-endpoints
      - private-connectivity
      - cost-optimization
      - security

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 6

    cost:
      estimated_monthly_usd: 22
      cost_category: "low"
      cost_factors:
        - "Interface endpoint: $0.01/hour per AZ"
        - "Data processing: $0.01/GB"
        - "Gateway endpoints (S3, DynamoDB): free"
      cost_breakdown:
        interface_endpoints: 15
        data_processing: 7
        gateway_endpoints: 0

    features:
      - "Gateway endpoints (S3, DynamoDB) - free"
      - "Interface endpoints for 30+ services"
      - "Automatic security group creation"
      - "Private DNS configuration"
      - "Custom endpoint policies"
      - "Multi-AZ deployment"
      - "Cost estimation and breakdown"
      - "Service name mapping for all regions"

    supported_services:
      - "S3, DynamoDB (Gateway)"
      - "EC2, ECR, ECS, Lambda"
      - "Secrets Manager, SSM, KMS"
      - "RDS, SNS, SQS, CloudWatch"
      - "Kinesis, Athena, Glue"
      - "SageMaker, Step Functions"
      - "And 20+ more services"

    use_cases:
      - "Private connectivity to AWS services"
      - "Reduce data transfer costs"
      - "Compliance requirements"
      - "Private ECS/EKS workloads"
      - "Lambda in VPC"
      - "Database connectivity"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "vpc-*"
      - "eks-*"
      - "ecs-*"
      - "lambda"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"
        - "Cost optimization"

# End of module registry
  # PHASE 3: INTEGRATION MODULES (2025-12-02)
  # ===========================================================================

  # --- SQS Queue ---

  - id: "sqs-queue"
    name: "SQS Queue"
    version: "1.0.0"
    maturity: "stable"
    category: "integration/messaging"
    subcategory: "sqs"
    path: "_library/integration/sqs-queue"

    description: "Production-ready SQS queue with encryption, DLQ, and cross-account access"
    long_description: |
      Comprehensive Amazon SQS module supporting standard and FIFO queues with server-side
      encryption via KMS, dead letter queue configuration, cross-account access policies,
      SNS topic integration, and CloudWatch alarms for queue monitoring. Includes automatic
      KMS key creation and configurable message retention and visibility settings.

    tags:
      - sqs
      - queue
      - messaging
      - fifo
      - dlq
      - encryption
      - kms
      - cloudwatch

    complexity: "beginner"
    setup_time_minutes: 8
    variable_count: 38

    cost:
      estimated_monthly_usd: 2
      cost_category: "low"
      cost_factors:
        - "SQS requests: $0.40 per million"
        - "KMS API calls: $0.03 per 10,000 requests"
        - "Data transfer"
      cost_breakdown:
        sqs_requests: 1.20
        kms: 0.60
        data_transfer: 0.20

    features:
      - "Standard and FIFO queues"
      - "Server-side encryption with KMS"
      - "Automatic KMS key creation or BYO key"
      - "Dead letter queue with configurable redrive"
      - "Cross-account access via queue policies"
      - "SNS topic subscription support"
      - "Long polling configuration"
      - "Message delay and visibility timeout"
      - "CloudWatch alarms (queue depth, message age, DLQ)"

    use_cases:
      - "Asynchronous task processing"
      - "Event-driven architectures"
      - "Decoupling microservices"
      - "Message buffering"
      - "Work queue patterns"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "lambda-pattern-library"
      - "sns-topic"
      - "eventbridge-bus"
      - "ecs-fargate-service"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "FIFO queue with DLQ"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "Encryption at rest enforced"

  # --- SNS Topic ---

  - id: "sns-topic"
    name: "SNS Topic"
    version: "1.0.0"
    maturity: "stable"
    category: "integration/messaging"
    subcategory: "sns"
    path: "_library/integration/sns-topic"

    description: "Production-ready SNS topic with encryption, subscriptions, and message filtering"
    long_description: |
      Enterprise Amazon SNS module supporting standard and FIFO topics with KMS encryption,
      multiple subscription types (SQS, Lambda, HTTP/HTTPS, Email), message filtering for
      targeted delivery, cross-account access policies, delivery status logging, and
      CloudWatch alarms for monitoring publication failures.

    tags:
      - sns
      - topic
      - pub-sub
      - notifications
      - fifo
      - encryption
      - subscriptions
      - message-filtering

    complexity: "beginner"
    setup_time_minutes: 8
    variable_count: 32

    cost:
      estimated_monthly_usd: 1
      cost_category: "low"
      cost_factors:
        - "SNS requests: $0.50 per million"
        - "SMS/Mobile push (additional)"
        - "Data transfer"
      cost_breakdown:
        sns_requests: 0.50
        data_transfer: 0.50

    features:
      - "Standard and FIFO topics"
      - "Server-side encryption with KMS"
      - "Multiple subscription types (SQS, Lambda, HTTP, Email)"
      - "Message filtering with filter policies"
      - "Cross-account publishing"
      - "CloudWatch Events/EventBridge integration"
      - "Delivery status logging"
      - "CloudWatch alarms for failed deliveries"

    use_cases:
      - "Fan-out messaging patterns"
      - "Application notifications"
      - "Event broadcasting"
      - "Alerting and monitoring"
      - "Mobile push notifications"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "sqs-queue"
      - "lambda-pattern-library"
      - "eventbridge-bus"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Topic with SQS and email subscriptions"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "Encryption at rest enforced"

  # --- EventBridge Event Bus ---

  - id: "eventbridge-bus"
    name: "EventBridge Event Bus"
    version: "1.0.0"
    maturity: "stable"
    category: "integration/event-driven"
    subcategory: "eventbridge"
    path: "_library/integration/eventbridge-bus"

    description: "Custom EventBridge bus with rules, multiple targets, archive, and schema registry"
    long_description: |
      Enterprise Amazon EventBridge module for event-driven architectures. Creates custom
      event buses with event rules supporting pattern matching and scheduling, multiple
      target types (Lambda, SQS, Step Functions, Kinesis, SNS, cross-bus), event archive
      for replay, cross-account routing, schema registry with automatic discovery, and
      comprehensive monitoring.

    tags:
      - eventbridge
      - event-bus
      - event-driven
      - serverless
      - rules
      - targets
      - archive
      - schema-registry
      - cross-account

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 18

    cost:
      estimated_monthly_usd: 8
      cost_category: "low"
      cost_factors:
        - "Events ingested: $1 per million"
        - "Archive storage: $0.10 per GB/month"
        - "Replay events: $0.10 per GB"
        - "Schema discovery: $0.10 per million events"
      cost_breakdown:
        events: 5
        archive: 2
        schema_discovery: 1

    features:
      - "Custom event buses for application decoupling"
      - "Event rules with pattern matching and scheduling"
      - "Multiple target types (Lambda, SQS, Step Functions, etc.)"
      - "Event archive and replay for disaster recovery"
      - "Cross-account event routing"
      - "Schema registry with automatic discovery"
      - "Dead letter queues for failed targets"
      - "Input transformation for targets"
      - "CloudWatch alarms for failed invocations"

    use_cases:
      - "Event-driven microservices"
      - "Application integration"
      - "Real-time data processing"
      - "Scheduled task execution"
      - "Cross-account event routing"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "lambda-pattern-library"
      - "sqs-queue"
      - "sns-topic"
      - "step-functions"
      - "kinesis-stream"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Event bus with scheduled rule"
          complexity: "intermediate"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"

  # --- Step Functions ---

  - id: "step-functions"
    name: "Step Functions State Machine"
    version: "1.0.0"
    maturity: "stable"
    category: "integration/orchestration"
    subcategory: "step-functions"
    path: "_library/integration/step-functions"

    description: "Step Functions state machine with comprehensive IAM, logging, X-Ray, and monitoring"
    long_description: |
      Production-ready AWS Step Functions module supporting STANDARD and EXPRESS workflows.
      Includes automatic IAM role creation with least privilege for common integrations
      (Lambda, SQS, SNS, DynamoDB, ECS, EventBridge), CloudWatch Logs integration,
      AWS X-Ray tracing, error handling patterns (retry, catch), and CloudWatch alarms
      for execution failures, throttling, and timeouts.

    tags:
      - step-functions
      - state-machine
      - workflow
      - orchestration
      - serverless
      - xray
      - cloudwatch
      - iam

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 25

    cost:
      estimated_monthly_usd: 25
      cost_category: "low"
      cost_factors:
        - "Standard: $25 per million state transitions"
        - "Express: $1 per million requests + $0.06 per GB-hour"
        - "CloudWatch Logs storage"
      cost_breakdown:
        state_transitions: 20
        cloudwatch_logs: 5

    features:
      - "STANDARD and EXPRESS state machine types"
      - "CloudWatch Logs with configurable retention"
      - "AWS X-Ray distributed tracing"
      - "Automatic IAM role with least privilege"
      - "Support for Lambda, SQS, SNS, DynamoDB, ECS, EventBridge"
      - "CloudWatch alarms (failures, throttling, timeouts)"
      - "Error handling patterns (retry, catch)"
      - "Extensible IAM policy for custom integrations"

    use_cases:
      - "Multi-step workflows"
      - "Long-running processes"
      - "Parallel task execution"
      - "Business process automation"
      - "ETL pipelines"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "lambda-pattern-library"
      - "sqs-queue"
      - "sns-topic"
      - "eventbridge-bus"
      - "dynamodb-table"
      - "ecs-fargate-service"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Simple workflow with Pass state"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "AWS Well-Architected"

  # --- API Gateway REST ---

  - id: "api-gateway-rest"
    name: "API Gateway REST"
    version: "1.0.0"
    maturity: "stable"
    category: "integration/api-management"
    subcategory: "apigateway"
    path: "_library/integration/api-gateway-rest"

    description: "REST API Gateway with Lambda integration, authentication, caching, and WAF"
    long_description: |
      Enterprise API Gateway REST API module with deployment stages, API keys, usage plans
      with quotas and throttling, request/response validation, CloudWatch Logs integration,
      AWS X-Ray tracing, response caching with encryption, WAF integration, custom domain
      support with ACM certificates, and CloudWatch alarms for monitoring errors and latency.

    tags:
      - api-gateway
      - rest-api
      - lambda
      - authentication
      - api-keys
      - usage-plans
      - waf
      - custom-domain
      - caching
      - xray

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 48

    cost:
      estimated_monthly_usd: 50
      cost_category: "medium"
      cost_factors:
        - "API requests: $3.50 per million (REST)"
        - "Data transfer: $0.09 per GB"
        - "Caching: $0.02 per hour (0.5GB)"
        - "Custom domain: No additional cost"
      cost_breakdown:
        api_requests: 35
        data_transfer: 10
        caching: 5

    features:
      - "REST API with EDGE, REGIONAL, PRIVATE endpoints"
      - "Deployment stages with versioning"
      - "API keys and usage plans with quotas"
      - "Request/response validation"
      - "CloudWatch Logs with access logging"
      - "AWS X-Ray tracing"
      - "Response caching with encryption"
      - "WAF integration"
      - "Custom domain with ACM certificates"
      - "CloudWatch alarms (5XX errors, latency)"
      - "Throttling and rate limiting"

    use_cases:
      - "RESTful API backends"
      - "Serverless APIs"
      - "Mobile and web app APIs"
      - "Public API gateways"
      - "Private VPC APIs"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "lambda-pattern-library"
      - "waf-advanced"
      - "acm"
      - "dns"
      - "vpc-standard"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Simple API with API keys"
          complexity: "intermediate"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "CIS AWS Foundations"
        - "AWS Well-Architected"

# End of module registry

  # ===========================================================================
  # PHASE 4: DATA PLATFORM MODULES (2025-12-02)
  # ===========================================================================

  # --- Kinesis Stream ---

  - id: "kinesis-stream"
    name: "Kinesis Data Stream"
    version: "1.0.0"
    maturity: "stable"
    category: "data-platform/streaming"
    subcategory: "kinesis"
    path: "_library/data-platform/kinesis-stream"

    description: "Production-ready Kinesis Data Stream with auto-scaling, enhanced fan-out, and Lambda integration"
    long_description: |
      Enterprise Kinesis Data Stream module with ON_DEMAND and PROVISIONED capacity modes,
      auto-scaling for provisioned streams, enhanced fan-out consumers for low-latency processing,
      Lambda event source mapping with filtering, KMS encryption at rest, comprehensive CloudWatch
      monitoring with alarms for iterator age and throttling, and configurable retention (24h to 365 days).

    tags:
      - kinesis
      - data-stream
      - streaming
      - real-time
      - lambda
      - event-driven
      - fan-out
      - auto-scaling
      - encryption

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 18

    cost:
      estimated_monthly_usd: 50
      cost_category: "medium"
      cost_factors:
        - "ON_DEMAND: $0.015 per GB ingested + $0.04 per million PUT requests"
        - "PROVISIONED: $0.015 per shard hour + data transfer"
        - "Enhanced fan-out: $0.015 per GB + $0.08 per consumer-shard hour"
      cost_breakdown:
        stream: 25
        enhanced_fanout: 15
        data_transfer: 10

    features:
      - "ON_DEMAND or PROVISIONED capacity modes"
      - "Auto-scaling for provisioned streams"
      - "Enhanced fan-out consumers"
      - "Lambda event source mapping with filtering"
      - "KMS encryption at rest"
      - "CloudWatch monitoring and alarms"
      - "Iterator age tracking"
      - "Configurable retention (24h-8760h)"

    use_cases:
      - "Real-time event streaming"
      - "Log and event data collection"
      - "Stream processing with Lambda"
      - "Change data capture (CDC)"
      - "IoT data ingestion"

    maintainer:
      team: "Data Engineering"
      primary: "data-team@example.com"
      backup: "platform-team@example.com"

    support:
      channel: "#data-engineering"
      sla_hours: 24
      oncall: "data-oncall"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "lambda-pattern-library"
      - "kinesis-firehose"
      - "glue-catalog"
      - "monitoring"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Basic ON_DEMAND stream"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "AWS Well-Architected"
        - "Data encryption"

  # --- Kinesis Firehose ---

  - id: "kinesis-firehose"
    name: "Kinesis Data Firehose"
    version: "1.0.0"
    maturity: "stable"
    category: "data-platform/streaming"
    subcategory: "firehose"
    path: "_library/data-platform/kinesis-firehose"

    description: "Delivery stream to S3/Redshift/OpenSearch with Lambda transformation and Parquet conversion"
    long_description: |
      Production-ready Kinesis Firehose delivery stream supporting S3, OpenSearch, and Redshift destinations.
      Includes Lambda data transformation, compression (GZIP, Snappy), JSON to Parquet conversion with Glue
      schema, buffering configuration, S3 backup for all records or failures, KMS encryption, CloudWatch
      monitoring with delivery and throttling alarms, and comprehensive error handling.

    tags:
      - kinesis
      - firehose
      - data-delivery
      - etl
      - s3
      - redshift
      - opensearch
      - parquet
      - transformation

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 28

    cost:
      estimated_monthly_usd: 25
      cost_category: "low"
      cost_factors:
        - "$0.029 per GB ingested"
        - "Data format conversion: $0.018 per GB"
        - "VPC delivery: $0.01 per hour per AZ"
        - "Lambda transformation costs"
      cost_breakdown:
        ingestion: 15
        format_conversion: 5
        lambda: 3
        storage: 2

    features:
      - "Delivery to S3, OpenSearch, Redshift"
      - "Lambda data transformation"
      - "Compression (GZIP, Snappy, etc.)"
      - "JSON to Parquet conversion"
      - "Buffering configuration"
      - "S3 backup for failures or all records"
      - "KMS encryption"
      - "CloudWatch monitoring and alarms"

    use_cases:
      - "Data lake ingestion"
      - "Log delivery to S3"
      - "Real-time analytics with OpenSearch"
      - "Data warehouse loading (Redshift)"
      - "ETL pipelines"

    maintainer:
      team: "Data Engineering"
      primary: "data-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "kinesis-stream"
      - "s3-bucket"
      - "opensearch"
      - "glue-catalog"
      - "lambda-pattern-library"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Basic S3 delivery"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true

  # --- Glue Catalog ---

  - id: "glue-catalog"
    name: "AWS Glue Data Catalog"
    version: "1.0.0"
    maturity: "stable"
    category: "data-platform/catalog"
    subcategory: "glue"
    path: "_library/data-platform/glue-catalog"

    description: "Glue database, tables, crawlers, schema registry, and data quality rules for data lake"
    long_description: |
      Comprehensive AWS Glue Data Catalog module with database and table management, automated crawlers
      for S3/JDBC/DynamoDB, schema registry with version control, data quality rulesets, ETL job templates,
      Athena integration, CloudWatch monitoring, and configurable schema change policies. Supports multiple
      data formats (Parquet, ORC, JSON, CSV) and partition management.

    tags:
      - glue
      - data-catalog
      - crawlers
      - schema-registry
      - data-quality
      - athena
      - metadata
      - etl

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 12

    cost:
      estimated_monthly_usd: 15
      cost_category: "low"
      cost_factors:
        - "Data Catalog: First million objects free, then $1 per 100,000 objects"
        - "Crawlers: $0.44 per hour (DPU)"
        - "Schema Registry: Free"
        - "Data Quality: $0.30 per DPU-hour"
      cost_breakdown:
        catalog: 2
        crawlers: 10
        data_quality: 3

    features:
      - "Glue database and tables"
      - "Automated crawlers (S3, JDBC, DynamoDB)"
      - "Schema registry with versioning"
      - "Data quality rulesets"
      - "Athena integration"
      - "Schema change policies"
      - "Partition management"
      - "CloudWatch monitoring"

    use_cases:
      - "Data lake metadata management"
      - "Schema evolution tracking"
      - "Automated schema discovery"
      - "Data quality validation"
      - "Athena query optimization"

    maintainer:
      team: "Data Engineering"
      primary: "data-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "s3-bucket"
      - "athena-workgroup"
      - "kinesis-firehose"
      - "rds-*"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Basic Glue catalog with crawler"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true

  # --- Athena Workgroup ---

  - id: "athena-workgroup"
    name: "Amazon Athena Workgroup"
    version: "1.0.0"
    maturity: "stable"
    category: "data-platform/query"
    subcategory: "athena"
    path: "_library/data-platform/athena-workgroup"

    description: "Athena workgroup with query limits, encryption, cost control, and monitoring"
    long_description: |
      Production-ready Amazon Athena workgroup with per-query data limits, S3 output location with
      encryption, CloudWatch metrics and alarms, cost control settings, named queries for common operations,
      data catalog integration, prepared statements, IAM policy generation, and comprehensive query execution
      monitoring. Supports query result caching and workgroup-level configuration enforcement.

    tags:
      - athena
      - query
      - analytics
      - sql
      - data-lake
      - cost-control
      - monitoring

    complexity: "beginner"
    setup_time_minutes: 8
    variable_count: 24

    cost:
      estimated_monthly_usd: 20
      cost_category: "low"
      cost_factors:
        - "$5 per TB of data scanned"
        - "Compressed data reduces costs by 30-90%"
        - "Partitioning reduces costs significantly"
        - "Result caching eliminates repeated scan costs"
      cost_breakdown:
        queries: 20

    features:
      - "Workgroup with per-query data limits"
      - "S3 output location with encryption"
      - "CloudWatch metrics and alarms"
      - "Cost control settings"
      - "Named queries"
      - "Data catalog integration"
      - "Prepared statements"
      - "IAM policy generation"

    use_cases:
      - "Ad-hoc SQL queries on data lake"
      - "Log analysis"
      - "Business intelligence"
      - "Data exploration"
      - "Cost-controlled analytics"

    maintainer:
      team: "Data Engineering"
      primary: "data-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "glue-catalog"
      - "s3-bucket"
      - "kms-multi-region"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Basic Athena workgroup"
          complexity: "beginner"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true

  # --- OpenSearch ---

  - id: "opensearch"
    name: "Amazon OpenSearch Service"
    version: "1.0.0"
    maturity: "stable"
    category: "data-platform/search"
    subcategory: "opensearch"
    path: "_library/data-platform/opensearch"

    description: "OpenSearch domain with multi-AZ, encryption, fine-grained access control, and Cognito auth"
    long_description: |
      Enterprise-grade Amazon OpenSearch Service domain with multi-AZ deployment, encryption at rest and
      in transit, fine-grained access control, Cognito authentication integration, dedicated master nodes,
      warm and cold storage tiers, Auto-Tune for performance optimization, comprehensive CloudWatch alarms
      (cluster health, storage, CPU, JVM memory), VPC deployment support, and index state management policies.
      Supports OpenSearch 2.x and Elasticsearch 7.x.

    tags:
      - opensearch
      - elasticsearch
      - search
      - analytics
      - logging
      - kibana
      - dashboards
      - full-text-search
      - multi-az

    complexity: "advanced"
    setup_time_minutes: 20
    variable_count: 42

    cost:
      estimated_monthly_usd: 250
      cost_category: "high"
      cost_factors:
        - "Instance hours (t3.small: $0.036/hr, r6g.large: $0.162/hr)"
        - "EBS storage (gp3: $0.08/GB-month)"
        - "Data transfer"
        - "UltraWarm storage: $0.024/GB-month"
      cost_breakdown:
        instances: 175
        storage: 50
        data_transfer: 15
        warm_storage: 10

    features:
      - "Multi-AZ deployment with replicas"
      - "Encryption at rest and in transit"
      - "Fine-grained access control"
      - "Cognito authentication"
      - "Dedicated master nodes"
      - "Warm and cold storage"
      - "Auto-Tune optimization"
      - "CloudWatch alarms"
      - "VPC deployment"

    use_cases:
      - "Log analytics and monitoring"
      - "Full-text search"
      - "Application monitoring"
      - "Security analytics"
      - "Business analytics"

    maintainer:
      team: "Data Engineering"
      primary: "data-team@example.com"

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "vpc-standard"
      - "kinesis-firehose"
      - "kms-multi-region"
      - "cognito"

    metrics:
      downloads: 0
      rating: 0.0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: "2025-12-02"

    documentation:
      readme: "./README.md"
      examples:
        - path: "./examples/basic"
          description: "Basic OpenSearch domain"
          complexity: "intermediate"

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "not-tested"

    security:
      checkov_passing: true
      tfsec_passing: true
      compliance:
        - "Encryption at rest and in transit"
        - "Fine-grained access control"
        - "VPC isolation"

# End of module registry

  #############################################################################
  # STORAGE LAYER
  #############################################################################

  # --- EFS ---

  - id: "efs-filesystem"
    name: "EFS Filesystem"
    version: "1.0.0"
    maturity: "stable"
    category: "storage/file-systems"
    subcategory: "efs"
    path: "_library/storage/efs-filesystem"

    description: "Elastic File System with lifecycle management and multi-AZ mount targets"
    long_description: |
      Production-ready Amazon EFS with multi-AZ mount targets, KMS encryption,
      lifecycle management for cost optimization, access points for application isolation,
      and CloudWatch monitoring. Supports General Purpose and Max I/O performance modes,
      with Bursting, Provisioned, or Elastic throughput options.

    tags:
      - efs
      - storage
      - file-system
      - shared-storage
      - nfs
      - multi-az
      - encrypted

    complexity: "intermediate"
    setup_time_minutes: 10
    variable_count: 25

    cost:
      estimated_monthly_usd: 90
      cost_category: "medium"
      cost_factors:
        - "Storage (Standard): $0.30/GB-month"
        - "Storage (IA): $0.025/GB-month"
        - "Throughput (if provisioned): $6.00/MBps-month"
      cost_breakdown:
        storage_standard: 60
        storage_ia: 10
        throughput: 20

    features:
      - "Multi-AZ mount targets for high availability"
      - "KMS encryption at rest with automatic key rotation"
      - "Lifecycle management (IA and Archive storage classes)"
      - "EFS access points for application isolation"
      - "Automatic backups via AWS Backup integration"
      - "Performance modes (General Purpose, Max I/O)"
      - "Throughput modes (Bursting, Provisioned, Elastic)"
      - "CloudWatch alarms for monitoring"

    use_cases:
      - "Shared file storage for containers"
      - "Content management systems"
      - "Home directories"
      - "Application configuration files"
      - "Machine learning training data"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"
        - "securitygroup"

    compatible_with:
      - "ecs-fargate"
      - "eks-standard"
      - "ec2-*"
      - "lambda-*"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "Encryption at rest"
        - "Automatic backups"

  # --- FSx Lustre ---

  - id: "fsx-lustre"
    name: "FSx for Lustre"
    version: "1.0.0"
    maturity: "stable"
    category: "storage/file-systems"
    subcategory: "fsx"
    path: "_library/storage/fsx-lustre"

    description: "FSx for Lustre with S3 integration for high-performance computing workloads"
    long_description: |
      Production-ready FSx for Lustre file system optimized for compute-intensive workloads.
      Provides high-performance parallel file system with seamless S3 integration for data
      repository associations. Supports scratch and persistent deployment types with automatic
      backups, data compression, and CloudWatch monitoring.

    tags:
      - fsx
      - lustre
      - hpc
      - storage
      - high-performance
      - s3-integration
      - machine-learning

    complexity: "advanced"
    setup_time_minutes: 15
    variable_count: 30

    cost:
      estimated_monthly_usd: 750
      cost_category: "high"
      cost_factors:
        - "Storage capacity (1200 GB minimum)"
        - "Throughput per unit (50-1000 MB/s/TiB)"
        - "Deployment type (SCRATCH vs PERSISTENT)"
        - "Backup storage"
      cost_breakdown:
        storage: 550
        throughput: 150
        backups: 50

    features:
      - "Scratch or Persistent deployment types"
      - "S3 data repository integration (import/export)"
      - "Data repository associations with auto-import/export"
      - "KMS encryption at rest"
      - "Automatic backups for persistent deployments"
      - "LZ4 data compression"
      - "Weekly maintenance windows"
      - "CloudWatch logging and alarms"

    use_cases:
      - "High-performance computing (HPC)"
      - "Machine learning training"
      - "Video processing and transcoding"
      - "Financial modeling"
      - "Electronic design automation (EDA)"
      - "Genomics analysis"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "vpc-*"
        - "securitygroup"

    compatible_with:
      - "ec2-*"
      - "s3-bucket"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "Encryption at rest"
        - "VPC isolation"

  # --- Backup Vault ---

  - id: "backup-vault"
    name: "AWS Backup Vault"
    version: "1.0.0"
    maturity: "stable"
    category: "storage/backup"
    subcategory: "backup"
    path: "_library/storage/backup-vault"

    description: "AWS Backup vault with lifecycle rules and cross-region backup for compliance"
    long_description: |
      Enterprise-grade AWS Backup vault with KMS encryption, flexible backup plans for
      multiple resource types (EBS, RDS, EFS, DynamoDB), lifecycle management with cold
      storage transitions, cross-region backup copy, vault lock for compliance (WORM),
      and SNS notifications for backup events.

    tags:
      - backup
      - disaster-recovery
      - compliance
      - retention
      - vault-lock
      - cross-region

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 20

    cost:
      estimated_monthly_usd: 180
      cost_category: "medium"
      cost_factors:
        - "Backup storage: $0.05/GB-month (warm)"
        - "Cold storage: $0.01/GB-month"
        - "Restore requests"
        - "Cross-region data transfer"
      cost_breakdown:
        warm_storage: 100
        cold_storage: 40
        restore: 20
        transfer: 20

    features:
      - "KMS encryption at rest"
      - "Flexible backup plans for multiple resource types"
      - "Lifecycle management (cold storage transition, retention)"
      - "Cross-region backup copy"
      - "Vault lock for compliance (WORM protection)"
      - "SNS notifications for backup events"
      - "Tag-based or resource-based backup selection"
      - "Continuous backup for point-in-time recovery"
      - "CloudWatch alarms"

    use_cases:
      - "Disaster recovery strategy"
      - "Compliance and regulatory requirements"
      - "Long-term data retention"
      - "Point-in-time recovery"
      - "Cross-region backup for DR"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"

    compatible_with:
      - "rds-*"
      - "dynamodb-*"
      - "efs-filesystem"
      - "ec2-*"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "Encryption at rest"
        - "Vault lock (WORM)"
        - "Cross-region replication"

  # --- S3 Replication ---

  - id: "s3-replication"
    name: "S3 Replication"
    version: "1.0.0"
    maturity: "stable"
    category: "storage/object-storage"
    subcategory: "s3"
    path: "_library/storage/s3-replication"

    description: "S3 cross-region replication with RTC and metrics for disaster recovery"
    long_description: |
      Production-ready S3 replication configuration for cross-region or same-region
      disaster recovery. Includes Replication Time Control (RTC) for 15-minute SLA,
      replication metrics, KMS encryption support, delete marker replication, and
      CloudWatch alarms for monitoring replication health.

    tags:
      - s3
      - replication
      - disaster-recovery
      - cross-region
      - rtc
      - metrics

    complexity: "intermediate"
    setup_time_minutes: 8
    variable_count: 18

    cost:
      estimated_monthly_usd: 120
      cost_category: "medium"
      cost_factors:
        - "Cross-region data transfer: $0.02/GB"
        - "Replication PUT requests: $0.005/1000"
        - "RTC: $0.015/GB replicated"
        - "Storage in destination bucket"
      cost_breakdown:
        data_transfer: 60
        replication_requests: 20
        rtc: 30
        storage: 10

    features:
      - "Cross-region or same-region replication"
      - "Replication rules with prefix and tag filters"
      - "Replication Time Control (RTC) for 15-minute SLA"
      - "S3 Batch Replication for existing objects"
      - "Replication metrics and events"
      - "KMS encryption support"
      - "Delete marker replication"
      - "Cross-account replication"
      - "CloudWatch alarms"

    use_cases:
      - "Disaster recovery and business continuity"
      - "Compliance and data residency"
      - "Low-latency data access"
      - "Data aggregation across regions"
      - "Live replication for analytics"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules:
        - "s3-bucket (source and destination)"

    compatible_with:
      - "s3-bucket"
      - "kms-*"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "Encryption at rest (KMS)"
        - "Encryption in transit"
        - "Cross-region replication"

  #############################################################################
  # CI/CD LAYER
  #############################################################################

  # --- CodePipeline ---

  - id: "codepipeline"
    name: "CodePipeline"
    version: "1.0.0"
    maturity: "stable"
    category: "cicd/pipeline"
    subcategory: "codepipeline"
    path: "_library/cicd/codepipeline/v1.0.0"

    description: "Complete CI/CD pipeline with multiple source/deploy providers and cross-account support"
    long_description: |
      Production-ready AWS CodePipeline supporting multiple source providers (CodeCommit, GitHub, S3, ECR)
      and deploy targets (CodeDeploy, ECS, Lambda, CloudFormation, S3). Includes optional build/test stages,
      manual approval with SNS notifications, cross-account deployment, artifact encryption, and CloudWatch
      Events for comprehensive monitoring.

    tags:
      - cicd
      - codepipeline
      - deployment
      - automation
      - github
      - codecommit
      - ecs
      - lambda

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 35

    cost:
      estimated_monthly_usd: 20
      cost_category: "low"
      cost_factors:
        - "Pipeline: $1/active pipeline/month"
        - "S3 artifact storage"
        - "Data transfer"
        - "CodeBuild executions (if used)"
      cost_breakdown:
        pipeline: 1
        artifacts: 10
        data_transfer: 5
        other: 4

    features:
      - "Multiple source providers (CodeCommit, GitHub, S3, ECR)"
      - "Multiple deploy targets (CodeDeploy, ECS, Lambda, CloudFormation, S3)"
      - "Optional build and test stages with CodeBuild"
      - "Manual approval stage with SNS notifications"
      - "Cross-account deployment support"
      - "Artifact encryption with KMS"
      - "CloudWatch Events for pipeline notifications"
      - "Pipeline V2 with advanced execution modes"
      - "Automatic source change detection"

    use_cases:
      - "Continuous deployment pipelines"
      - "Multi-stage release processes"
      - "Cross-account deployments"
      - "Containerized application deployments"
      - "Serverless deployments"
      - "Infrastructure as Code deployments"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "codebuild-project"
      - "codedeploy-app"
      - "ecr-repository"
      - "ecs-fargate-service"
      - "lambda-*"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "Artifact encryption (KMS)"
        - "IAM least privilege"
        - "Cross-account role assumption"

  # --- CodeBuild Project ---

  - id: "codebuild-project"
    name: "CodeBuild Project"
    version: "1.0.0"
    maturity: "stable"
    category: "cicd/build"
    subcategory: "codebuild"
    path: "_library/cicd/codebuild-project/v1.0.0"

    description: "CodeBuild project with Docker support, VPC configuration, and multiple cache strategies"
    long_description: |
      Production-ready AWS CodeBuild project supporting multiple source providers, Docker builds with
      privileged mode, VPC configuration for private resource access, environment variables from
      plaintext/SSM/Secrets Manager, build caching (S3, local Docker layers), CloudWatch and S3 logs,
      GitHub webhooks, and batch builds for parallel execution.

    tags:
      - cicd
      - codebuild
      - docker
      - build
      - vpc
      - github
      - webhook

    complexity: "intermediate"
    setup_time_minutes: 12
    variable_count: 45

    cost:
      estimated_monthly_usd: 50
      cost_category: "medium"
      cost_factors:
        - "Build minutes: $0.005/minute (general1.small)"
        - "S3 cache storage"
        - "CloudWatch Logs"
        - "VPC data transfer (if enabled)"
      cost_breakdown:
        compute: 35
        storage: 10
        logs: 3
        other: 2

    features:
      - "Multiple source providers (CodeCommit, GitHub, S3, CodePipeline)"
      - "Docker build support with privileged mode"
      - "VPC configuration for private resource access"
      - "Environment variables from plaintext, SSM, Secrets Manager"
      - "Build caching (S3, local Docker layers, source)"
      - "CloudWatch Logs and S3 logs"
      - "Multiple buildspec files support"
      - "GitHub webhooks for automatic builds"
      - "Batch builds for parallel execution"
      - "Secondary sources and artifacts"
      - "EFS mount support"

    use_cases:
      - "Docker image builds"
      - "Application compilation and testing"
      - "Private resource access builds"
      - "Multi-stage builds"
      - "Parallel test execution"
      - "Custom build environments"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "codepipeline"
      - "ecr-repository"
      - "vpc-*"
      - "securitygroup"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "VPC isolation"
        - "Secrets Manager integration"
        - "IAM least privilege"
        - "CloudWatch Logs encryption"

  # --- ECR Repository ---

  - id: "ecr-repository"
    name: "ECR Repository"
    version: "1.0.0"
    maturity: "stable"
    category: "cicd/container-registry"
    subcategory: "ecr"
    path: "_library/cicd/ecr-repository/v1.0.0"

    description: "Container registry with lifecycle policies, image scanning, and cross-region replication"
    long_description: |
      Production-ready AWS ECR repository with automatic lifecycle policies for cleanup, enhanced
      image scanning (basic or enhanced), image tag immutability, cross-account permissions, KMS
      encryption, cross-region replication, CloudWatch metrics and alarms, and pull through cache
      support for external registries.

    tags:
      - cicd
      - ecr
      - docker
      - containers
      - registry
      - scanning
      - replication

    complexity: "beginner"
    setup_time_minutes: 8
    variable_count: 25

    cost:
      estimated_monthly_usd: 15
      cost_category: "low"
      cost_factors:
        - "Storage: $0.10/GB/month"
        - "Data transfer out: $0.09/GB"
        - "Enhanced scanning: $0.09/image"
        - "Replication data transfer"
      cost_breakdown:
        storage: 8
        scanning: 4
        data_transfer: 2
        other: 1

    features:
      - "Image scanning on push (basic or enhanced)"
      - "Image tag immutability"
      - "Automatic lifecycle policies for cleanup"
      - "Cross-account permissions"
      - "KMS encryption"
      - "Cross-region replication"
      - "CloudWatch metrics and alarms"
      - "Pull through cache support"
      - "Vulnerability scanning alerts"

    use_cases:
      - "Docker image storage"
      - "Container image registry"
      - "Multi-account access"
      - "Disaster recovery with replication"
      - "Security scanning"
      - "Image lifecycle management"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "codepipeline"
      - "codebuild-project"
      - "ecs-fargate-service"
      - "kms-*"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "KMS encryption at rest"
        - "Image scanning (enhanced)"
        - "IAM access control"
        - "Cross-account policies"

  # --- CodeDeploy Application ---

  - id: "codedeploy-app"
    name: "CodeDeploy Application"
    version: "1.0.0"
    maturity: "stable"
    category: "cicd/deployment"
    subcategory: "codedeploy"
    path: "_library/cicd/codedeploy-app/v1.0.0"

    description: "Deployment application with blue/green and in-place strategies for EC2, ECS, and Lambda"
    long_description: |
      Production-ready AWS CodeDeploy application and deployment groups for EC2/On-Premises, ECS,
      and Lambda. Supports both in-place and blue/green deployments with custom deployment
      configurations (canary, linear), Auto Scaling Group integration, alarm-based automatic
      rollback, CloudWatch monitoring, SNS notifications, and load balancer integration.

    tags:
      - cicd
      - codedeploy
      - deployment
      - blue-green
      - canary
      - ec2
      - ecs
      - lambda

    complexity: "intermediate"
    setup_time_minutes: 15
    variable_count: 30

    cost:
      estimated_monthly_usd: 5
      cost_category: "low"
      cost_factors:
        - "EC2 deployments: Free"
        - "Lambda/ECS deployments: $0.02/update"
        - "Additional compute costs for blue/green"
        - "Load balancer costs"
      cost_breakdown:
        deployments: 2
        compute_overhead: 2
        other: 1

    features:
      - "Multiple compute platforms (Server/EC2, ECS, Lambda)"
      - "In-place and blue/green deployments"
      - "Custom deployment configurations with traffic shifting"
      - "Canary and linear deployment strategies"
      - "Auto Scaling Group integration"
      - "Alarm-based automatic rollback"
      - "CloudWatch monitoring and SNS notifications"
      - "Load balancer integration (ALB, NLB, CLB)"
      - "Custom deployment hooks"
      - "Tag-based instance targeting"

    use_cases:
      - "Zero-downtime deployments"
      - "Gradual traffic shifting"
      - "Automated rollbacks on errors"
      - "Multi-environment deployments"
      - "Blue/green infrastructure updates"
      - "Canary releases"

    maintainer:
      team: "Platform Engineering"
      primary: "platform-team@example.com"

    support:
      channel: "#platform-support"
      sla_hours: 24

    dependencies:
      terraform_version: ">= 1.5.0"
      provider_versions:
        aws: ">= 5.0.0, < 6.0.0"
      required_modules: []

    compatible_with:
      - "codepipeline"
      - "ecs-fargate-service"
      - "lambda-*"
      - "asg-launch-template"
      - "alb"

    metrics:
      downloads: 0
      rating: 0
      rating_count: 0
      deployments: 0
      active_deployments: 0
      last_updated: "2025-12-02"
      first_published: "2025-12-02"

    lifecycle:
      created: "2025-12-02"
      stabilized: null

    testing:
      unit_tests: 0
      integration_tests: 0
      coverage_percent: 0
      test_status: "pending"

    security:
      checkov_passing: false
      tfsec_passing: false
      last_scan: null
      compliance:
        - "IAM least privilege"
        - "Automatic rollback"
        - "CloudWatch monitoring"
        - "SNS notifications"

# End of module registry
